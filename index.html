<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>黄镇的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="黄镇的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="黄镇的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="黄镇的博客">
  
    <link rel="alternate" href="/atom.xml" title="黄镇的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">黄镇的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-react" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/react/" class="article-date">
  <time datetime="2016-05-24T10:49:12.000Z" itemprop="datePublished">2016-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/react/">react的学习</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">React Native 优缺点分析</div><div class="line">经过一长篇的讨论，其实 React Native 的优缺点已经不难分析了，这里简单总结一下：</div><div class="line">优点</div><div class="line">  1. 复用了 React 的思想，有利于前端开发者涉足移动端。</div><div class="line">  2. 能够利用 JavaScript 动态更新的特性，快速迭代。</div><div class="line">  3. 相比于原生平台，开发速度更快，相比于 Hybrid 框架，性能更好。</div><div class="line">缺点</div><div class="line">  1. 做不到 Write once, Run everywhere，也就是说开发者依然需要为 iOS 和 Android 平台提供两套不同的代码，比如参考官方文档可以发现不少组件和API都区分了 Android 和 iOS 版本。即使是共用组件，也会有平台独享的函数。</div><div class="line">  2. 不能做到完全屏蔽 iOS 端或 Android 的细节，前端开发者必须对原生平台有所了解。加重了学习成本。对于移动端开发者来说，完全不具备用 React Native 开发的能力。</div><div class="line">  3. 由于 Objective-C 与 JavaScript 之间切换存在固定的时间开销，所以性能必定不及原生。比如目前的官方版本无法做到 UItableview(ListView) 的视图重用，因为滑动过程中，视图重用需要在异步线程中执行，速度太慢。这也就导致随着 Cell 数量的增加，占用的内存也线性增加。</div><div class="line">综上，我对 React Native 的定位是：</div><div class="line">利用脚本语言进行原生平台开发的一次成功尝试，降低了前端开发者入门移动端的门槛，一定业务场景下具有独特的优势，几乎不可能取代原生平台开发。</div><div class="line"></div><div class="line"></div><div class="line">其次，React Native 能够运行起来，全靠 Objective-C 和 JavaScript 的交互。对于没有接触过 JavaScript 的人来说，非常有必要理解 JavaScript 代码如何被执行。</div><div class="line"></div><div class="line">JavaScript 是一种脚本语言，它不会经过编译、链接等操作，而是在运行时才动态的进行词法、语法分析，生成抽象语法树(AST)和字节码，然后由解释器负责执行或者使用 JIT 将字节码转化为机器码再执行。整个流程由 JavaScript 引擎负责完成。</div><div class="line"></div><div class="line">为什么我们要关心reactnative；</div><div class="line">因为它意味着真正意义上的跨端应用开发，就目前而言吧，我们可以基于react native开发 iOS移动程序；也可以开发andrind程序；也可以很容易的兼容到web程序； 它对前端而言学习成本还是比较低的， 而且拥有web的发布能力和原生应用的性能；而它是基于react的组件化开发模式，据我所知目前国内的各大互联网公司都已经投入了大量的资源到react native；现在很多人都认为web和native结合的模式是未来前端的模式；我觉得前端未来的发展，应该是一次代码，多端应用；</div><div class="line"></div><div class="line">react提供 的功能：它提供了原生的UI组件，所以我们基于react native开发的应用程序都有原生UI的性能；第二是react native 通过了web所不能提供的手势人别；提供了基于flexbox的css布局模式，而这种模式极大的简化了UI布局；第四是它的跨平台开发能力；react native是基于react，jsx的组件化开发模式；因为reactnative是基于js和commonjs的写法来，所以说它可以支持npm的众多模块；</div><div class="line"></div><div class="line">很多react native应用可以视为很多组件的组合；而每一个组件是有属性和状态来 管理的，当属性和状态发生变化的时候，同时会更新UI，而组件里面的结构是由虚拟的virtual dom 来维护的，所以说每次变化更新的dom,只包括真正产生变化的部分，这样的方式就提高了性能；而reactnative是基于react来实现的；所以了解了react的开发模式就了解了，reactnative放入开发模式；</div><div class="line"></div><div class="line">是通过同一套技术运用在不同的端，把那个不是同一段代码运行在不同的平台；</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">传入的是一个对象，对象拥有一个render方法；</div><div class="line"></div><div class="line">组件都是基于 view 和text 的写法；这也就是es6的语法吧，我们可以通过内置style来设置view,和 text 的样式；</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">可以通过style.sheet.create() 来创建styles对象；</div><div class="line"></div><div class="line"></div><div class="line">es6函数写法就是箭头函数；</div><div class="line"></div><div class="line"></div><div class="line">网络引入的需要设置宽高，才能显示图片</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/react/" data-id="cj9cj2zjj00002wwyxx9d3phq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-react一" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/react一/" class="article-date">
  <time datetime="2016-05-06T01:48:32.000Z" itemprop="datePublished">2016-05-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/react一/">react学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">黄镇的博客</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="angular项目用到的知识点"><a href="#angular项目用到的知识点" class="headerlink" title="angular项目用到的知识点"></a>angular项目用到的知识点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div></pre></td><td class="code"><pre><div class="line">现在最热门的前端框架，毫无疑问是 React 。</div><div class="line">上周，基于 React 的 React Native 发布，结果一天之内，就获得了 5000 颗星，受瞩目程度可见一斑。</div><div class="line">React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站。做出来以后，发现这套东西很好用，就在2013年5月开源了。</div><div class="line"></div><div class="line">由于 React 的设计思想极其独特，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用，认为它可能是将来 Web 开发的主流工具。</div><div class="line">这个项目本身也越滚越大，从最早的UI引擎变成了一整套前后端通吃的 Web App 解决方案。衍生的 React Native 项目，目标更是宏伟，希望用写 Web App 的方式去写 Native App。如果能够实现，整个互联网行业都会被颠覆，因为同一组人只需要写一次 UI ，就能同时运行在服务器、浏览器和手机（参见《也许，DOM 不是答案》）。</div><div class="line"></div><div class="line">既然 React 这么热门，看上去充满希望，当然应该好好学一下。从技术角度，可以满足好奇心，提高技术水平；从职业角度，有利于求职和晋升，有利于参与潜力大的项目。但是，好的 React 教程却不容易找到，这一方面因为这项技术太新，刚刚开始走红，大家都没有经验，还在摸索之中；另一方面因为 React 本身还在不断变动，API 一直在调整，至今没发布1.0版。</div><div class="line"></div><div class="line">我学习 React 时，就很苦恼。有的教程讨论一些细节问题，对入门没帮助；有的教程写得不错，但比较短，无助于看清全貌。我断断续续学了几个月，看过二十几篇教程，在这个过程中，将对自己有帮助的 Demo 都收集下来，做成了一个库 React Demos 。</div><div class="line"></div><div class="line">下面，我就根据这个库，写一篇全面又易懂的 React 入门教程。你只需要跟着每一个 Demo 做一遍，就能初步掌握 React 。当然，前提是你必须拥有基本 JavaScript 和 DOM 知识，但是你读完就会发现，React 所要求的预备知识真的很少。</div><div class="line">零、安装</div><div class="line">React 的安装包，可以到官网下载。不过，React Demos 已经自带 React 源码，不用另外安装，只需把这个库拷贝到你的硬盘就行了。</div><div class="line"></div><div class="line">$ git <span class="built_in">clone</span> git@github.com:ruanyf/react-demos.git</div><div class="line"></div><div class="line">如果你没安装 git， 那就直接下载 zip 压缩包。</div><div class="line"></div><div class="line">下面要讲解的12个例子在各个 Demo 子目录，每个目录都有一个 index.html 文件，在浏览器打开这个文件（大多数情况下双击即可），就能立刻看到效果。</div><div class="line">需要说明的是，React 可以在浏览器运行，也可以在服务器运行，但是本教程只涉及浏览器。一方面是为了尽量保持简单，另一方面 React 的语法是一致的，服务器的用法与浏览器差别不大。Demo13 是服务器首屏渲染的例子，有兴趣的朋友可以自己去看源码。</div><div class="line">一、HTML 模板</div><div class="line">使用 React 的网页源码，结构大致如下。</div><div class="line"></div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;script src=<span class="string">"../build/react.js"</span>&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=<span class="string">"../build/react-dom.js"</span>&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=<span class="string">"../build/browser.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;div id=<span class="string">"example"</span>&gt;&lt;/div&gt;</div><div class="line">    &lt;script <span class="built_in">type</span>=<span class="string">"text/babel"</span>&gt;</div><div class="line">      // ** Our code goes here! **</div><div class="line">    &lt;/script&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line"></div><div class="line">上面代码有两个地方需要注意。首先，最后一个 &lt;script&gt; 标签的 <span class="built_in">type</span> 属性为 text/babel 。这是因为 React 独有的 JSX 语法，跟 JavaScript 不兼容。凡是使用 JSX 的地方，都要加上 <span class="built_in">type</span>=<span class="string">"text/babel"</span> 。</div><div class="line">其次，上面代码一共用了三个库： react.js 、react-dom.js 和 Browser.js ，它们必须首先加载。其中，react.js 是 React 的核心库，react-dom.js 是提供与 DOM 相关的功能，Browser.js 的作用是将 JSX 语法转为 JavaScript 语法，这一步很消耗时间，实际上线的时候，应该将它放到服务器完成。</div><div class="line"></div><div class="line">$ babel src --out-dir build</div><div class="line"></div><div class="line">上面命令可以将 src 子目录的 js 文件进行语法转换，转码后的文件全部放在 build 子目录。</div><div class="line">二、ReactDOM.render()</div><div class="line">ReactDOM.render 是 React 的最基本方法，用于将模板转为 HTML 语言，并插入指定的 DOM 节点。</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;h1&gt;Hello, world!&lt;/h1&gt;,</div><div class="line">  document.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div><div class="line"></div><div class="line">上面代码将一个 h1 标题，插入 example 节点（查看 demo01），运行结果如下。</div><div class="line"></div><div class="line">三、JSX 语法</div><div class="line">上一节的代码， HTML 语言直接写在 JavaScript 语言之中，不加任何引号，这就是 JSX 的语法，它允许 HTML 与 JavaScript 的混写（查看 Demo02 ）。</div><div class="line"></div><div class="line">var names = [<span class="string">'Alice'</span>, <span class="string">'Emily'</span>, <span class="string">'Kate'</span>];</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;div&gt;</div><div class="line">  &#123;</div><div class="line">    names.map(<span class="keyword">function</span> (name) &#123;</div><div class="line">      <span class="built_in">return</span> &lt;div&gt;Hello, &#123;name&#125;!&lt;/div&gt;</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">  &lt;/div&gt;,</div><div class="line">  document.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div><div class="line"></div><div class="line">上面代码体现了 JSX 的基本语法规则：遇到 HTML 标签（以 &lt; 开头），就用 HTML 规则解析；遇到代码块（以 &#123; 开头），就用 JavaScript 规则解析。上面代码的运行结果如下。</div><div class="line"></div><div class="line">JSX 允许直接在模板插入 JavaScript 变量。如果这个变量是一个数组，则会展开这个数组的所有成员（查看 demo03 ）。</div><div class="line"></div><div class="line">var arr = [</div><div class="line">  &lt;h1&gt;Hello world!&lt;/h1&gt;,</div><div class="line">  &lt;h2&gt;React is awesome&lt;/h2&gt;,</div><div class="line">];</div><div class="line">ReactDOM.render(</div><div class="line">  &lt;div&gt;&#123;arr&#125;&lt;/div&gt;,</div><div class="line">  document.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div><div class="line"></div><div class="line">上面代码的arr变量是一个数组，结果 JSX 会把它的所有成员，添加到模板，运行结果如下。</div><div class="line"></div><div class="line">四、组件</div><div class="line">React 允许将代码封装成组件（component），然后像插入普通 HTML 标签一样，在网页中插入这个组件。React.createClass 方法就用于生成一个组件类（查看 demo04）。</div><div class="line"></div><div class="line">var HelloMessage = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    <span class="built_in">return</span> &lt;h1&gt;Hello &#123;this.props.name&#125;&lt;/h1&gt;;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;HelloMessage name=<span class="string">"John"</span> /&gt;,</div><div class="line">  document.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div><div class="line"></div><div class="line">上面代码中，变量 HelloMessage 就是一个组件类。模板插入 &lt;HelloMessage /&gt; 时，会自动生成 HelloMessage 的一个实例（下文的<span class="string">"组件"</span>都指组件类的实例）。所有组件类都必须有自己的 render 方法，用于输出组件。</div><div class="line">注意，组件类的第一个字母必须大写，否则会报错，比如HelloMessage不能写成helloMessage。另外，组件类只能包含一个顶层标签，否则也会报错。</div><div class="line"></div><div class="line">var HelloMessage = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    <span class="built_in">return</span> &lt;h1&gt;</div><div class="line">      Hello &#123;this.props.name&#125;</div><div class="line">    &lt;/h1&gt;&lt;p&gt;</div><div class="line">      some text</div><div class="line">    &lt;/p&gt;;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">上面代码会报错，因为HelloMessage组件包含了两个顶层标签：h1和p。</div><div class="line">组件的用法与原生的 HTML 标签完全一致，可以任意加入属性，比如 &lt;HelloMessage name=<span class="string">"John"</span>&gt; ，就是HelloMessage 组件加入一个 name 属性，值为 John。组件的属性可以在组件类的 this.props 对象上获取，比如 name 属性就可以通过 this.props.name 读取。上面代码的运行结果如下。</div><div class="line"></div><div class="line">添加组件属性，有一个地方需要注意，就是 class 属性需要写成 className ，<span class="keyword">for</span> 属性需要写成 htmlFor ，这是因为 class 和 <span class="keyword">for</span> 是 JavaScript 的保留字。</div><div class="line">五、this.props.children</div><div class="line">this.props 对象的属性与组件的属性一一对应，但是有一个例外，就是 this.props.children 属性。它表示组件的所有子节点（查看 demo05）。</div><div class="line"></div><div class="line">var NotesList = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    <span class="built_in">return</span> (</div><div class="line">      &lt;ol&gt;</div><div class="line">      &#123;</div><div class="line">        React.Children.map(this.props.children, <span class="keyword">function</span> (child) &#123;</div><div class="line">          <span class="built_in">return</span> &lt;li&gt;&#123;child&#125;&lt;/li&gt;;</div><div class="line">        &#125;)</div><div class="line">      &#125;</div><div class="line">      &lt;/ol&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;NotesList&gt;</div><div class="line">    &lt;span&gt;hello&lt;/span&gt;</div><div class="line">    &lt;span&gt;world&lt;/span&gt;</div><div class="line">  &lt;/NotesList&gt;,</div><div class="line">  document.body</div><div class="line">);</div><div class="line"></div><div class="line">上面代码的 NoteList 组件有两个 span 子节点，它们都可以通过 this.props.children 读取，运行结果如下。</div><div class="line"></div><div class="line">这里需要注意， this.props.children 的值有三种可能：如果当前组件没有子节点，它就是 undefined ;如果有一个子节点，数据类型是 object ；如果有多个子节点，数据类型就是 array 。所以，处理 this.props.children 的时候要小心。</div><div class="line">React 提供一个工具方法 React.Children 来处理 this.props.children 。我们可以用 React.Children.map 来遍历子节点，而不用担心 this.props.children 的数据类型是 undefined 还是 object。更多的 React.Children 的方法，请参考官方文档。</div><div class="line">六、PropTypes</div><div class="line">组件的属性可以接受任意值，字符串、对象、函数等等都可以。有时，我们需要一种机制，验证别人使用组件时，提供的参数是否符合要求。</div><div class="line">组件类的PropTypes属性，就是用来验证组件实例的属性是否符合要求（查看 demo06）。</div><div class="line"></div><div class="line">var MyTitle = React.createClass(&#123;</div><div class="line">  propTypes: &#123;</div><div class="line">    title: React.PropTypes.string.isRequired,</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">     <span class="built_in">return</span> &lt;h1&gt; &#123;this.props.title&#125; &lt;/h1&gt;;</div><div class="line">   &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">上面的Mytitle组件有一个title属性。PropTypes 告诉 React，这个 title 属性是必须的，而且它的值必须是字符串。现在，我们设置 title 属性的值是一个数值。</div><div class="line"></div><div class="line">var data = 123;</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;MyTitle title=&#123;data&#125; /&gt;,</div><div class="line">  document.body</div><div class="line">);</div><div class="line"></div><div class="line">这样一来，title属性就通不过验证了。控制台会显示一行错误信息。</div><div class="line"></div><div class="line">Warning: Failed propType: Invalid prop `title` of <span class="built_in">type</span> `number` supplied to `MyTitle`, expected `string`.</div><div class="line">更多的PropTypes设置，可以查看官方文档。</div><div class="line">此外，getDefaultProps 方法可以用来设置组件属性的默认值。</div><div class="line"></div><div class="line">var MyTitle = React.createClass(&#123;</div><div class="line">  getDefaultProps : <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">    <span class="built_in">return</span> &#123;</div><div class="line">      title : <span class="string">'Hello World'</span></div><div class="line">    &#125;;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">     <span class="built_in">return</span> &lt;h1&gt; &#123;this.props.title&#125; &lt;/h1&gt;;</div><div class="line">   &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;MyTitle /&gt;,</div><div class="line">  document.body</div><div class="line">);</div><div class="line"></div><div class="line">上面代码会输出<span class="string">"Hello World"</span>。</div><div class="line">七、获取真实的DOM节点</div><div class="line">组件并不是真实的 DOM 节点，而是存在于内存之中的一种数据结构，叫做虚拟 DOM （virtual DOM）。只有当它插入文档以后，才会变成真实的 DOM 。根据 React 的设计，所有的 DOM 变动，都先在虚拟 DOM 上发生，然后再将实际发生变动的部分，反映在真实 DOM上，这种算法叫做 DOM diff ，它可以极大提高网页的性能表现。</div><div class="line">但是，有时需要从组件获取真实 DOM 的节点，这时就要用到 ref 属性（查看 demo07 ）。</div><div class="line"></div><div class="line">var MyComponent = React.createClass(&#123;</div><div class="line">  handleClick: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    this.refs.myTextInput.focus();</div><div class="line">  &#125;,</div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    <span class="built_in">return</span> (</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> ref=<span class="string">"myTextInput"</span> /&gt;</div><div class="line">        &lt;input <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"Focus the text input"</span> onClick=&#123;this.handleClick&#125; /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;MyComponent /&gt;,</div><div class="line">  document.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div><div class="line"></div><div class="line">上面代码中，组件 MyComponent 的子节点有一个文本输入框，用于获取用户的输入。这时就必须获取真实的 DOM 节点，虚拟 DOM 是拿不到用户输入的。为了做到这一点，文本输入框必须有一个 ref 属性，然后 this.refs.[refName] 就会返回这个真实的 DOM 节点。</div><div class="line">需要注意的是，由于 this.refs.[refName] 属性获取的是真实 DOM ，所以必须等到虚拟 DOM 插入文档以后，才能使用这个属性，否则会报错。上面代码中，通过为组件指定 Click 事件的回调函数，确保了只有等到真实 DOM 发生 Click 事件之后，才会读取 this.refs.[refName] 属性。</div><div class="line">React 组件支持很多事件，除了 Click 事件以外，还有 KeyDown 、Copy、Scroll 等，完整的事件清单请查看官方文档。</div><div class="line">八、this.state</div><div class="line">组件免不了要与用户互动，React 的一大创新，就是将组件看成是一个状态机，一开始有一个初始状态，然后用户互动，导致状态变化，从而触发重新渲染 UI （查看 demo08 ）。</div><div class="line"></div><div class="line">var LikeButton = React.createClass(&#123;</div><div class="line">  getInitialState: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    <span class="built_in">return</span> &#123;liked: <span class="literal">false</span>&#125;;</div><div class="line">  &#125;,</div><div class="line">  handleClick: <span class="keyword">function</span>(event) &#123;</div><div class="line">    this.setState(&#123;liked: !this.state.liked&#125;);</div><div class="line">  &#125;,</div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    var text = this.state.liked ? <span class="string">'like'</span> : <span class="string">'haven\'</span>t liked<span class="string">';</span></div><div class="line"><span class="string">    return (</span></div><div class="line"><span class="string">      &lt;p onClick=&#123;this.handleClick&#125;&gt;</span></div><div class="line"><span class="string">        You &#123;text&#125; this. Click to toggle.</span></div><div class="line"><span class="string">      &lt;/p&gt;</span></div><div class="line"><span class="string">    );</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">&#125;);</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">ReactDOM.render(</span></div><div class="line"><span class="string">  &lt;LikeButton /&gt;,</span></div><div class="line"><span class="string">  document.getElementById('</span>example<span class="string">')</span></div><div class="line"><span class="string">);</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">上面代码是一个 LikeButton 组件，它的 getInitialState 方法用于定义初始状态，也就是一个对象，这个对象可以通过 this.state 属性读取。当用户点击组件，导致状态变化，this.setState 方法就修改状态值，每次修改以后，自动调用 this.render 方法，再次渲染组件。</span></div><div class="line"><span class="string">由于 this.props 和 this.state 都用于描述组件的特性，可能会产生混淆。一个简单的区分方法是，this.props 表示那些一旦定义，就不再改变的特性，而 this.state 是会随着用户互动而产生变化的特性。</span></div><div class="line"><span class="string">九、表单</span></div><div class="line"><span class="string">用户在表单填入的内容，属于用户跟组件的互动，所以不能用 this.props 读取（查看 demo9 ）。</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">var Input = React.createClass(&#123;</span></div><div class="line"><span class="string">  getInitialState: function() &#123;</span></div><div class="line"><span class="string">    return &#123;value: '</span>Hello!<span class="string">'&#125;;</span></div><div class="line"><span class="string">  &#125;,</span></div><div class="line"><span class="string">  handleChange: function(event) &#123;</span></div><div class="line"><span class="string">    this.setState(&#123;value: event.target.value&#125;);</span></div><div class="line"><span class="string">  &#125;,</span></div><div class="line"><span class="string">  render: function () &#123;</span></div><div class="line"><span class="string">    var value = this.state.value;</span></div><div class="line"><span class="string">    return (</span></div><div class="line"><span class="string">      &lt;div&gt;</span></div><div class="line"><span class="string">        &lt;input type="text" value=&#123;value&#125; onChange=&#123;this.handleChange&#125; /&gt;</span></div><div class="line"><span class="string">        &lt;p&gt;&#123;value&#125;&lt;/p&gt;</span></div><div class="line"><span class="string">      &lt;/div&gt;</span></div><div class="line"><span class="string">    );</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">&#125;);</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">ReactDOM.render(&lt;Input/&gt;, document.body);</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">上面代码中，文本输入框的值，不能用 this.props.value 读取，而要定义一个 onChange 事件的回调函数，通过 event.target.value 读取用户输入的值。textarea 元素、select元素、radio元素都属于这种情况，更多介绍请参考官方文档。</span></div><div class="line"><span class="string">十、组件的生命周期</span></div><div class="line"><span class="string">组件的生命周期分成三个状态：</span></div><div class="line"><span class="string">  ● Mounting：已插入真实 DOM</span></div><div class="line"><span class="string">  ● Updating：正在被重新渲染</span></div><div class="line"><span class="string">  ● Unmounting：已移出真实 DOM</span></div><div class="line"><span class="string">React 为每个状态都提供了两种处理函数，will 函数在进入状态之前调用，did 函数在进入状态之后调用，三种状态共计五种处理函数。</span></div><div class="line"><span class="string">  ● componentWillMount()</span></div><div class="line"><span class="string">  ● componentDidMount()</span></div><div class="line"><span class="string">  ● componentWillUpdate(object nextProps, object nextState)</span></div><div class="line"><span class="string">  ● componentDidUpdate(object prevProps, object prevState)</span></div><div class="line"><span class="string">  ● componentWillUnmount()</span></div><div class="line"><span class="string">此外，React 还提供两种特殊状态的处理函数。</span></div><div class="line"><span class="string">  ● componentWillReceiveProps(object nextProps)：已加载组件收到新的参数时调用</span></div><div class="line"><span class="string">  ● shouldComponentUpdate(object nextProps, object nextState)：组件判断是否重新渲染时调用</span></div><div class="line"><span class="string">这些方法的详细说明，可以参考官方文档。下面是一个例子（查看 demo10 ）。</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">var Hello = React.createClass(&#123;</span></div><div class="line"><span class="string">  getInitialState: function () &#123;</span></div><div class="line"><span class="string">    return &#123;</span></div><div class="line"><span class="string">      opacity: 1.0</span></div><div class="line"><span class="string">    &#125;;</span></div><div class="line"><span class="string">  &#125;,</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">  componentDidMount: function () &#123;</span></div><div class="line"><span class="string">    this.timer = setInterval(function () &#123;</span></div><div class="line"><span class="string">      var opacity = this.state.opacity;</span></div><div class="line"><span class="string">      opacity -= .05;</span></div><div class="line"><span class="string">      if (opacity &lt; 0.1) &#123;</span></div><div class="line"><span class="string">        opacity = 1.0;</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">      this.setState(&#123;</span></div><div class="line"><span class="string">        opacity: opacity</span></div><div class="line"><span class="string">      &#125;);</span></div><div class="line"><span class="string">    &#125;.bind(this), 100);</span></div><div class="line"><span class="string">  &#125;,</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">  render: function () &#123;</span></div><div class="line"><span class="string">    return (</span></div><div class="line"><span class="string">      &lt;div style=&#123;&#123;opacity: this.state.opacity&#125;&#125;&gt;</span></div><div class="line"><span class="string">        Hello &#123;this.props.name&#125;</span></div><div class="line"><span class="string">      &lt;/div&gt;</span></div><div class="line"><span class="string">    );</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">&#125;);</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">ReactDOM.render(</span></div><div class="line"><span class="string">  &lt;Hello name="world"/&gt;,</span></div><div class="line"><span class="string">  document.body</span></div><div class="line"><span class="string">);</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">上面代码在hello组件加载以后，通过 componentDidMount 方法设置一个定时器，每隔100毫秒，就重新设置组件的透明度，从而引发重新渲染。</span></div><div class="line"><span class="string">另外，组件的style属性的设置方式也值得注意，不能写成</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">style="opacity:&#123;this.state.opacity&#125;;"</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">而要写成</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">style=&#123;&#123;opacity: this.state.opacity&#125;&#125;</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">这是因为 React 组件样式是一个对象，所以第一重大括号表示这是 JavaScript 语法，第二重大括号表示样式对象。</span></div><div class="line"><span class="string">十一、Ajax</span></div><div class="line"><span class="string">组件的数据来源，通常是通过 Ajax 请求从服务器获取，可以使用 componentDidMount 方法设置 Ajax 请求，等到请求成功，再用 this.setState 方法重新渲染 UI （查看 demo11 ）。</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">var UserGist = React.createClass(&#123;</span></div><div class="line"><span class="string">  getInitialState: function() &#123;</span></div><div class="line"><span class="string">    return &#123;</span></div><div class="line"><span class="string">      username: '</span><span class="string">',</span></div><div class="line"><span class="string">      lastGistUrl: '</span><span class="string">'</span></div><div class="line"><span class="string">    &#125;;</span></div><div class="line"><span class="string">  &#125;,</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">  componentDidMount: function() &#123;</span></div><div class="line"><span class="string">    $.get(this.props.source, function(result) &#123;</span></div><div class="line"><span class="string">      var lastGist = result[0];</span></div><div class="line"><span class="string">      if (this.isMounted()) &#123;</span></div><div class="line"><span class="string">        this.setState(&#123;</span></div><div class="line"><span class="string">          username: lastGist.owner.login,</span></div><div class="line"><span class="string">          lastGistUrl: lastGist.html_url</span></div><div class="line"><span class="string">        &#125;);</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">    &#125;.bind(this));</span></div><div class="line"><span class="string">  &#125;,</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">  render: function() &#123;</span></div><div class="line"><span class="string">    return (</span></div><div class="line"><span class="string">      &lt;div&gt;</span></div><div class="line"><span class="string">        &#123;this.state.username&#125;'</span>s last gist is</div><div class="line">        &lt;a href=&#123;this.state.lastGistUrl&#125;&gt;here&lt;/a&gt;.</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;UserGist <span class="built_in">source</span>=<span class="string">"https://api.github.com/users/octocat/gists"</span> /&gt;,</div><div class="line">  document.body</div><div class="line">);</div><div class="line"></div><div class="line">上面代码使用 jQuery 完成 Ajax 请求，这是为了便于说明。React 本身没有任何依赖，完全可以不用jQuery，而使用其他库。</div><div class="line">我们甚至可以把一个Promise对象传入组件，请看Demo12。</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;RepoList</div><div class="line">    promise=&#123;$.getJSON(<span class="string">'https://api.github.com/search/repositories?q=javascript&amp;sort=stars'</span>)&#125;</div><div class="line">  /&gt;,</div><div class="line">  document.body</div><div class="line">);</div><div class="line"></div><div class="line">上面代码从Github的API抓取数据，然后将Promise对象作为属性，传给RepoList组件。</div><div class="line">如果Promise对象正在抓取数据（pending状态），组件显示<span class="string">"正在加载"</span>；如果Promise对象报错（rejected状态），组件显示报错信息；如果Promise对象抓取数据成功（fulfilled状态），组件显示获取的数据。</div><div class="line"></div><div class="line">var RepoList = React.createClass(&#123;</div><div class="line">  getInitialState: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    <span class="built_in">return</span> &#123; loading: <span class="literal">true</span>, error: null, data: null&#125;;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="function"><span class="title">componentDidMount</span></span>() &#123;</div><div class="line">    this.props.promise.then(</div><div class="line">      value =&gt; this.setState(&#123;loading: <span class="literal">false</span>, data: value&#125;),</div><div class="line">      error =&gt; this.setState(&#123;loading: <span class="literal">false</span>, error: error&#125;));</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  render: <span class="function"><span class="title">function</span></span>() &#123;</div><div class="line">    <span class="keyword">if</span> (this.state.loading) &#123;</div><div class="line">      <span class="built_in">return</span> &lt;span&gt;Loading...&lt;/span&gt;;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (this.state.error !== null) &#123;</div><div class="line">      <span class="built_in">return</span> &lt;span&gt;Error: &#123;this.state.error.message&#125;&lt;/span&gt;;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">      var repos = this.state.data.items;</div><div class="line">      var repoList = repos.map(<span class="keyword">function</span> (repo) &#123;</div><div class="line">        <span class="built_in">return</span> (</div><div class="line">          &lt;li&gt;</div><div class="line">            &lt;a href=&#123;repo.html_url&#125;&gt;&#123;repo.name&#125;&lt;/a&gt; (&#123;repo.stargazers_count&#125; stars) &lt;br/&gt; &#123;repo.description&#125;</div><div class="line">          &lt;/li&gt;</div><div class="line">        );</div><div class="line">      &#125;);</div><div class="line">      <span class="built_in">return</span> (</div><div class="line">        &lt;main&gt;</div><div class="line">          &lt;h1&gt;Most Popular JavaScript Projects <span class="keyword">in</span> Github&lt;/h1&gt;</div><div class="line">          &lt;ol&gt;&#123;repoList&#125;&lt;/ol&gt;</div><div class="line">        &lt;/main&gt;</div><div class="line">      );</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/react一/" data-id="cj9cqmx4u0000t4wyy3fdya6j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-d3js" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/d3js/" class="article-date">
  <time datetime="2016-04-07T10:01:01.000Z" itemprop="datePublished">2016-04-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/d3js/">d3js三</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">黄镇的博客</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="angular项目用到的知识点"><a href="#angular项目用到的知识点" class="headerlink" title="angular项目用到的知识点"></a>angular项目用到的知识点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div></pre></td><td class="code"><pre><div class="line">柱形图是一种最简单的可视化图标，主要有矩形、文字标签、坐标轴组成。本文为简单起见，只绘制矩形的部分，用以讲解如何使用 D3 在 SVG 画布中绘图。</div><div class="line"></div><div class="line">柱形图</div><div class="line"></div><div class="line">画布是什么</div><div class="line">前几章的处理对象都是 HTML 的文字，没有涉及图形的制作。</div><div class="line"></div><div class="line">要绘图，首要需要的是一块绘图的“画布”。</div><div class="line"></div><div class="line">HTML 5 提供两种强有力的“画布”：SVG 和 Canvas。</div><div class="line"></div><div class="line">SVG 是什么</div><div class="line"></div><div class="line">SVG，指可缩放矢量图形（Scalable Vector Graphics），是用于描述二维矢量图形的一种图形格式，是由万维网联盟制定的开放标准。 SVG 使用 XML 格式来定义图形，除了 IE8 之前的版本外，绝大部分浏览器都支持 SVG，可将 SVG 文本直接嵌入 HTML 中显示。</div><div class="line"></div><div class="line">SVG 有如下特点：</div><div class="line"></div><div class="line">SVG 绘制的是矢量图，因此对图像进行放大不会失真。</div><div class="line">基于 XML，可以为每个元素添加 JavaScript 事件处理器。</div><div class="line">每个图形均视为对象，更改对象的属性，图形也会改变。</div><div class="line">不适合游戏应用。</div><div class="line">Canvas 是什么</div><div class="line"></div><div class="line">Canvas 是通过 JavaScript 来绘制 2D 图形，是 HTML 5 中新增的元素。</div><div class="line"></div><div class="line">Canvas 有如下特点：</div><div class="line"></div><div class="line">绘制的是位图，图像放大后会失真。</div><div class="line">不支持事件处理器。</div><div class="line">能够以 .png 或 .jpg 格式保存图像</div><div class="line">适合游戏应用</div><div class="line">添加画布</div><div class="line">D3 虽然没有明文规定一定要在 SVG 中绘图，但是 D3 提供了众多的 SVG 图形的生成器，它们都是只支持 SVG 的。因此，建议使用 SVG 画布。</div><div class="line"></div><div class="line">使用 D3 在 body 元素中添加 svg 的代码如下。</div><div class="line"></div><div class="line">var width = 300;  //画布的宽度</div><div class="line">var height = 300;   //画布的高度</div><div class="line"></div><div class="line">var svg = d3.select(<span class="string">"body"</span>)     //选择文档中的body元素</div><div class="line">    .append(<span class="string">"svg"</span>)          //添加一个svg元素</div><div class="line">    .attr(<span class="string">"width"</span>, width)       //设定宽度</div><div class="line">    .attr(<span class="string">"height"</span>, height);    //设定高度</div><div class="line">有了画布，接下来就可以在画布上作图了。</div><div class="line"></div><div class="line">绘制矩形</div><div class="line">本文绘制一个横向的柱形图。只绘制矩形，不绘制文字和坐标轴。</div><div class="line"></div><div class="line">在 SVG 中，矩形的元素标签是 rect。例如：</div><div class="line"></div><div class="line">&lt;svg&gt;</div><div class="line">&lt;rect&gt;&lt;/rect&gt;</div><div class="line">&lt;rect&gt;&lt;/rect&gt;</div><div class="line">&lt;/svg&gt;</div><div class="line">上面的 rect 里没有矩形的属性。矩形的属性，常用的有四个：</div><div class="line"></div><div class="line">x：矩形左上角的 x 坐标</div><div class="line">y：矩形左上角的 y 坐标</div><div class="line">width：矩形的宽度</div><div class="line">height：矩形的高度</div><div class="line">要注意，在 SVG 中，x 轴的正方向是水平向右，y 轴的正方向是垂直向下的。</div><div class="line"></div><div class="line">现在给出一组数据，要对此进行可视化。数据如下：</div><div class="line"></div><div class="line">var dataset = [ 250 , 210 , 170 , 130 , 90 ];  //数据（表示矩形的宽度）</div><div class="line">为简单起见，我们直接用数值的大小来表示矩形的像素宽度（后面会说到这不是一种好方法）。然后，添加以下代码。</div><div class="line"></div><div class="line">var rectHeight = 25;   //每个矩形所占的像素高度(包括空白)</div><div class="line"></div><div class="line">svg.selectAll(<span class="string">"rect"</span>)</div><div class="line">    .data(dataset)</div><div class="line">    .enter()</div><div class="line">    .append(<span class="string">"rect"</span>)</div><div class="line">    .attr(<span class="string">"x"</span>,20)</div><div class="line">    .attr(<span class="string">"y"</span>,<span class="keyword">function</span>(d,i)&#123;</div><div class="line">         <span class="built_in">return</span> i * rectHeight;</div><div class="line">    &#125;)</div><div class="line">    .attr(<span class="string">"width"</span>,<span class="keyword">function</span>(d)&#123;</div><div class="line">         <span class="built_in">return</span> d;</div><div class="line">    &#125;)</div><div class="line">    .attr(<span class="string">"height"</span>,rectHeight-2)</div><div class="line">    .attr(<span class="string">"fill"</span>,<span class="string">"steelblue"</span>);</div><div class="line">这段代码添加了与 dataset 数组的长度相同数量的矩形，所使用的语句是：</div><div class="line"></div><div class="line">svg.selectAll(<span class="string">"rect"</span>)   //选择svg内所有的矩形</div><div class="line">    .data(dataset)  //绑定数组</div><div class="line">    .enter()        //指定选择集的enter部分</div><div class="line">    .append(<span class="string">"rect"</span>) //添加足够数量的矩形元素</div><div class="line">这段代码以后会常常出现在 D3 的代码中，请务必牢记。目前不深入讨论它的作用机制是怎样的，只需要读者牢记，当：</div><div class="line"></div><div class="line">有数据，而没有足够图形元素的时候，使用此方法可以添加足够的元素。</div><div class="line"></div><div class="line">添加了元素之后，就需要分别给各元素的属性赋值。在这里用到了 <span class="keyword">function</span>(d, i)，前面已经讲过，d 代表与当前元素绑定的数据，i 代表索引号。给属性赋值的时候，是需要用到被绑定的数据，以及索引号的。</div><div class="line"></div><div class="line">最后一行的：</div><div class="line"></div><div class="line">.attr(<span class="string">"fill"</span>,<span class="string">"steelblue"</span>);</div><div class="line">是给矩形元素设置颜色。一般来说，最好写成外置 CSS 的形式，方便归类和修改。这里为了便于初学者理解，将样式直接写到元素里。</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">一个完整的柱形图包含三部分：矩形、文字、坐标轴。本章将对前几章的内容进行综合的运用，制作一个实用的柱形图，内容包括：选择集、数据绑定、比例尺、坐标轴等内容。</div><div class="line"></div><div class="line">柱形图</div><div class="line"></div><div class="line">添加 SVG 画布</div><div class="line">//画布大小</div><div class="line">var width = 400;</div><div class="line">var height = 400;</div><div class="line"></div><div class="line">//在 body 里添加一个 SVG 画布   </div><div class="line">var svg = d3.select(<span class="string">"body"</span>)</div><div class="line">    .append(<span class="string">"svg"</span>)</div><div class="line">    .attr(<span class="string">"width"</span>, width)</div><div class="line">    .attr(<span class="string">"height"</span>, height);</div><div class="line"></div><div class="line">//画布周边的空白</div><div class="line"> var padding = &#123;left:30, right:30, top:20, bottom:20&#125;;</div><div class="line">上面定义了一个 padding，是为了给 SVG 的周边留一个空白，最好不要将图形绘制到边界上。</div><div class="line"></div><div class="line">定义数据和比例尺</div><div class="line">//定义一个数组</div><div class="line">var dataset = [10, 20, 30, 40, 33, 24, 12, 5];</div><div class="line"></div><div class="line">//x轴的比例尺</div><div class="line">var xScale = d3.scale.ordinal()</div><div class="line">    .domain(d3.range(dataset.length))</div><div class="line">    .rangeRoundBands([0, width - padding.left - padding.right]);</div><div class="line"></div><div class="line">//y轴的比例尺</div><div class="line">var yScale = d3.scale.linear()</div><div class="line">    .domain([0,d3.max(dataset)])</div><div class="line">    .range([height - padding.top - padding.bottom, 0]);</div><div class="line">x 轴使用序数比例尺，y 轴使用线性比例尺。要注意两个比例尺值域的范围。</div><div class="line"></div><div class="line">定义坐标轴</div><div class="line">//定义x轴</div><div class="line">var xAxis = d3.svg.axis()</div><div class="line">    .scale(xScale)</div><div class="line">    .orient(<span class="string">"bottom"</span>);</div><div class="line"></div><div class="line">//定义y轴</div><div class="line">var yAxis = d3.svg.axis()</div><div class="line">    .scale(yScale)</div><div class="line">    .orient(<span class="string">"left"</span>);</div><div class="line">x 轴刻度的方向向下，y 轴的向左。</div><div class="line"></div><div class="line">添加矩形和文字元素</div><div class="line">//矩形之间的空白</div><div class="line">var rectPadding = 4;</div><div class="line"></div><div class="line">//添加矩形元素</div><div class="line">var rects = svg.selectAll(<span class="string">".MyRect"</span>)</div><div class="line">        .data(dataset)</div><div class="line">        .enter()</div><div class="line">        .append(<span class="string">"rect"</span>)</div><div class="line">        .attr(<span class="string">"class"</span>,<span class="string">"MyRect"</span>)</div><div class="line">        .attr(<span class="string">"transform"</span>,<span class="string">"translate("</span> + padding.left + <span class="string">","</span> + padding.top + <span class="string">")"</span>)</div><div class="line">        .attr(<span class="string">"x"</span>, <span class="keyword">function</span>(d,i)&#123;</div><div class="line">            <span class="built_in">return</span> xScale(i) + rectPadding/2;</div><div class="line">        &#125; )</div><div class="line">        .attr(<span class="string">"y"</span>,<span class="keyword">function</span>(d)&#123;</div><div class="line">            <span class="built_in">return</span> yScale(d);</div><div class="line">        &#125;)</div><div class="line">        .attr(<span class="string">"width"</span>, xScale.rangeBand() - rectPadding )</div><div class="line">        .attr(<span class="string">"height"</span>, <span class="keyword">function</span>(d)&#123;</div><div class="line">            <span class="built_in">return</span> height - padding.top - padding.bottom - yScale(d);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">//添加文字元素</div><div class="line">var texts = svg.selectAll(<span class="string">".MyText"</span>)</div><div class="line">        .data(dataset)</div><div class="line">        .enter()</div><div class="line">        .append(<span class="string">"text"</span>)</div><div class="line">        .attr(<span class="string">"class"</span>,<span class="string">"MyText"</span>)</div><div class="line">        .attr(<span class="string">"transform"</span>,<span class="string">"translate("</span> + padding.left + <span class="string">","</span> + padding.top + <span class="string">")"</span>)</div><div class="line">        .attr(<span class="string">"x"</span>, <span class="keyword">function</span>(d,i)&#123;</div><div class="line">            <span class="built_in">return</span> xScale(i) + rectPadding/2;</div><div class="line">        &#125; )</div><div class="line">        .attr(<span class="string">"y"</span>,<span class="keyword">function</span>(d)&#123;</div><div class="line">            <span class="built_in">return</span> yScale(d);</div><div class="line">        &#125;)</div><div class="line">        .attr(<span class="string">"dx"</span>,<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">            <span class="built_in">return</span> (xScale.rangeBand() - rectPadding)/2;</div><div class="line">        &#125;)</div><div class="line">        .attr(<span class="string">"dy"</span>,<span class="keyword">function</span>(d)&#123;</div><div class="line">            <span class="built_in">return</span> 20;</div><div class="line">        &#125;)</div><div class="line">        .text(<span class="keyword">function</span>(d)&#123;</div><div class="line">            <span class="built_in">return</span> d;</div><div class="line">        &#125;);</div><div class="line">矩形元素和文字元素的 x 和 y 坐标要特别注意，要结合比例尺给予适当的值。</div><div class="line"></div><div class="line">添加坐标轴的元素</div><div class="line">//添加x轴</div><div class="line">svg.append(<span class="string">"g"</span>)</div><div class="line">  .attr(<span class="string">"class"</span>,<span class="string">"axis"</span>)</div><div class="line">  .attr(<span class="string">"transform"</span>,<span class="string">"translate("</span> + padding.left + <span class="string">","</span> + (height - padding.bottom) + <span class="string">")"</span>)</div><div class="line">  .call(xAxis); </div><div class="line"></div><div class="line">//添加y轴</div><div class="line">svg.append(<span class="string">"g"</span>)</div><div class="line">  .attr(<span class="string">"class"</span>,<span class="string">"axis"</span>)</div><div class="line">  .attr(<span class="string">"transform"</span>,<span class="string">"translate("</span> + padding.left + <span class="string">","</span> + padding.top + <span class="string">")"</span>)</div><div class="line">  .call(yAxis);</div><div class="line">坐标轴的位置要结合空白 padding 的值来设定。</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">制作饼状图</div><div class="line"></div><div class="line"></div><div class="line">数据</div><div class="line">有如下数据，需要可视化：</div><div class="line"></div><div class="line">var dataset = [ 30 , 10 , 43 , 55 , 13 ];</div><div class="line">这样的值是不能直接绘图的。例如绘制饼状图的一个部分，需要知道一段弧的起始角度和终止角度，这些值都不存在于数组 dataset 中。因此，需要用到布局，布局的作用就是：</div><div class="line"></div><div class="line">计算出适合于作图的数据。</div><div class="line"></div><div class="line">这一个过程，在本教程中为了方便理解，笔者称之为“数据转换”。</div><div class="line"></div><div class="line">布局（数据转换）</div><div class="line">定义一个布局，</div><div class="line"></div><div class="line">var pie = d3.layout.pie();</div><div class="line">返回值赋给变量 pie，此时 pie 可以当做函数使用。</div><div class="line"></div><div class="line">var piedata = pie(dataset);</div><div class="line">将数组 dataset 作为 pie() 的参数，返回值给 piedata。如此一来，</div><div class="line"></div><div class="line">piedata 就是转换后的数据。</div><div class="line"></div><div class="line">简单吧，非常轻松就得到了。在控制台输出 piedata ，让我们来看看数据转换成什么了。</div><div class="line"></div><div class="line">转换后的数据</div><div class="line"></div><div class="line">如上图所示，5 个整数被转换成了 5 个对象（Object） ，每个对象都有变量起始角度（startAngle）和终止角度（endAngle），还有原数据（属性名称为 data）。这些都是绘图需要的数据。</div><div class="line"></div><div class="line">千万记住：布局要直接绘图，而是为了得到绘图所需的数据。</div><div class="line"></div><div class="line">绘制图形</div><div class="line">为了根据转换后的数据 piedata 来作图，还需要一样工具：生成器。</div><div class="line"></div><div class="line">SVG 有一个元素，叫做路径 path，是 SVG 中功能最强的元素，它可以表示其它任意的图形。顾名思义，路径元素就是通过定义一个段“路径”，来绘制出各种图形。但是，路径是很难计算的，通过布局转换后的数据 piedata 仍然很难手动计算得到路径值。为我们完成这项任务的，就是生成器。</div><div class="line"></div><div class="line">这里要用到的叫做弧生成器，能够生成弧的路径，因为饼图的每一部分都是一段弧。</div><div class="line"></div><div class="line">var outerRadius = 150; //外半径</div><div class="line">var innerRadius = 0; //内半径，为0则中间没有空白</div><div class="line"></div><div class="line">var arc = d3.svg.arc()  //弧生成器</div><div class="line">    .innerRadius(innerRadius)   //设置内半径</div><div class="line">    .outerRadius(outerRadius);  //设置外半径</div><div class="line">弧生成器返回的结果赋值给 arc。此时，arc 可以当做一个函数使用，把 piedata 作为参数传入，即可得到路径值。</div><div class="line"></div><div class="line">接下来，可以在 SVG 中添加图形元素了。先在 svg 里添加足够数量（5个）个分组元素（g），每一个分组用于存放一段弧的相关元素。</div><div class="line"></div><div class="line">var arcs = svg.selectAll(<span class="string">"g"</span>)</div><div class="line">    .data(piedata)</div><div class="line">    .enter()</div><div class="line">    .append(<span class="string">"g"</span>)</div><div class="line">    .attr(<span class="string">"transform"</span>,<span class="string">"translate("</span>+ (width/2) +<span class="string">","</span>+ (width/2) +<span class="string">")"</span>);</div><div class="line">接下来对每个 g 元素，添加 path 。</div><div class="line"></div><div class="line">arcs.append(<span class="string">"path"</span>)</div><div class="line">    .attr(<span class="string">"fill"</span>,<span class="keyword">function</span>(d,i)&#123;</div><div class="line">        <span class="built_in">return</span> color(i);</div><div class="line">    &#125;)</div><div class="line">    .attr(<span class="string">"d"</span>,<span class="keyword">function</span>(d)&#123;</div><div class="line">        <span class="built_in">return</span> arc(d);   //调用弧生成器，得到路径值</div><div class="line">    &#125;);</div><div class="line">因为 arcs 是同时选择了 5 个 g 元素的选择集，所以调用 append(“path”) 后，每个 g 中都有 path 。路径值的属性名称是 d，调用弧生成器后返回的值赋值给它。要注意，arc(d) 的参数 d 是被绑定的数据。</div><div class="line"></div><div class="line">另外，color 是一个颜色比例尺，它能根据传入的索引号获取相应的颜色值，定义如下。</div><div class="line"></div><div class="line">var color = d3.scale.category10();   //有十种颜色的颜色比例尺</div><div class="line">然后在每一个弧线中心添加文本。</div><div class="line"></div><div class="line">arcs.append(<span class="string">"text"</span>)</div><div class="line">    .attr(<span class="string">"transform"</span>,<span class="keyword">function</span>(d)&#123;</div><div class="line">        <span class="built_in">return</span> <span class="string">"translate("</span> + arc.centroid(d) + <span class="string">")"</span>;</div><div class="line">    &#125;)</div><div class="line">    .attr(<span class="string">"text-anchor"</span>,<span class="string">"middle"</span>)</div><div class="line">    .text(<span class="keyword">function</span>(d)&#123;</div><div class="line">        <span class="built_in">return</span> d.data;</div><div class="line">    &#125;);</div><div class="line">arc.centroid(d) 能算出弧线的中心。要注意，text() 里返回的是 d.data ，而不是 d 。因为被绑定的数据是对象，里面有 d.startAngle、d.endAngle、d.data 等，其中 d.data 才是转换前的整数的值。</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/d3js/" data-id="cj9ck7ins0001agwyzusbfoou" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-d3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/d3/" class="article-date">
  <time datetime="2016-03-27T14:01:01.000Z" itemprop="datePublished">2016-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/d3/">d3js二</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">黄镇的博客</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="angular项目用到的知识点"><a href="#angular项目用到的知识点" class="headerlink" title="angular项目用到的知识点"></a>angular项目用到的知识点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">如何选择元素</div><div class="line">上一章已经讲解了 select 和 selectAll，以及选择集的概念。本节具体讲解这两个函数的用法。</div><div class="line"></div><div class="line">假设在 body 中有三个段落元素：</div><div class="line"></div><div class="line">&lt;p&gt;Apple&lt;/p&gt;</div><div class="line">&lt;p&gt;Pear&lt;/p&gt;</div><div class="line">&lt;p&gt;Banana&lt;/p&gt;</div><div class="line">现在，要分别完成以下四种选择元素的任务。</div><div class="line"></div><div class="line">选择第一个 p 元素</div><div class="line"></div><div class="line">使用 select ，参数传入 p 即可，如此返回的是第一个 p 元素。</div><div class="line"></div><div class="line">t(<span class="string">"p"</span>);</div><div class="line">p1.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下图，被选择的元素标记为红色。</div><div class="line"></div><div class="line">选择第一个元素</div><div class="line"></div><div class="line">选择三个 p 元素</div><div class="line"></div><div class="line">使用 selectAll 选择 body 中所有的 p 元素。</div><div class="line"></div><div class="line">var p = body.selectAll(<span class="string">"p"</span>);</div><div class="line">p.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下：</div><div class="line"></div><div class="line">选择三个元素</div><div class="line"></div><div class="line">选择第二个 p 元素</div><div class="line"></div><div class="line">有不少方法，一种比较简单的是给第二个元素添加一个 id 号。</div><div class="line"></div><div class="line">Pear</div><div class="line"></div><div class="line">然后，使用 select 选择元素，注意参数中 id 名称前要加 <span class="comment"># 号。</span></div><div class="line"></div><div class="line">var p2 = body.select(<span class="string">"#myid"</span>);</div><div class="line">p2.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下：</div><div class="line"></div><div class="line">选择第二个元素</div><div class="line"></div><div class="line">选择后两个 p 元素</div><div class="line"></div><div class="line">给后两个元素添加 class，</div><div class="line"></div><div class="line">&lt;p class=<span class="string">"myclass"</span>&gt;Pear&lt;/p&gt;</div><div class="line">&lt;p class=<span class="string">"myclass"</span>&gt;Banana&lt;/p&gt;</div><div class="line">由于需要选择多个元素，要用 selectAll。注意参数，class 名称前要加一个点。</div><div class="line"></div><div class="line">var p = body.selectAll(<span class="string">".myclass"</span>);</div><div class="line">p.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下：</div><div class="line"></div><div class="line">选择后两个元素</div><div class="line"></div><div class="line">关于 select 和 selectAll 的参数，其实是符合 CSS 选择器的条件的，即用“井号（<span class="comment">#）”表示 id，用“点（.）”表示 class。</span></div><div class="line"></div><div class="line">此外，对于已经绑定了数据的选择集，还有一种选择元素的方法，那就是灵活运用 <span class="keyword">function</span>(d, i)。我们已经知道参数 i 是代表索引号的，于是便可以用条件判定语句来指定执行的元素。</div><div class="line"></div><div class="line">插入元素</div><div class="line">插入元素涉及的函数有两个：</div><div class="line"></div><div class="line">append()：在选择集末尾插入元素</div><div class="line">insert()：在选择集前面插入元素</div><div class="line">假设有三个段落元素，与上文相同。</div><div class="line"></div><div class="line"> append()</div><div class="line"></div><div class="line">body.append(<span class="string">"p"</span>)</div><div class="line">    .text(<span class="string">"append p element"</span>);</div><div class="line">在 body 的末尾添加一个 p 元素，结果为：</div><div class="line"></div><div class="line">Apple</div><div class="line">Pear</div><div class="line">Banana</div><div class="line">append p element</div><div class="line">insert()</div><div class="line"></div><div class="line">在 body 中 id 为 myid 的元素前添加一个段落元素。</div><div class="line"></div><div class="line">body.insert(<span class="string">"p"</span>,<span class="string">"#myid"</span>)</div><div class="line">  .text(<span class="string">"insert p element"</span>);</div><div class="line">已经指定了 Pear 段落的 id 为 myid，因此结果如下。</div><div class="line"></div><div class="line">Apple</div><div class="line">insert p element</div><div class="line">Pear</div><div class="line">Banana</div><div class="line">删除元素</div><div class="line">删除一个元素时，对于选择的元素，使用 remove 即可，例如：</div><div class="line"></div><div class="line">var p = body.select(<span class="string">"#myid"</span>);</div><div class="line">p.remove();</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/d3/" data-id="cj9ck7imh0000agwy89w28ojg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/hello-world/" class="article-date">
  <time datetime="2016-03-13T14:41:21.000Z" itemprop="datePublished">2016-03-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hello-world/">d3js一</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div></pre></td><td class="code"><pre><div class="line">D3 是什么</div><div class="line">D3 的全称是（Data-Driven Documents），顾名思义可以知道是一个被数据驱动的文档。听名字有点抽象，说简单一点，其实就是一个 JavaScript 的函数库，使用它主要是用来做数据可视化的。如果你不知道什么是 JavaScript ，请先学习一点 JavaScript 的基础知识。</div><div class="line"></div><div class="line">W3School 的 JavaScript 教程</div><div class="line"></div><div class="line">JavaScript 文件的后缀名通常为 .js，故 D3 也常使用 D3.js 称呼。D3 提供了各种简单易用的函数，大大简化了 JavaScript 操作数据的难度。由于它本质上是 JavaScript ，所以用 JavaScript 也是可以实现所有功能的，但它能大大减小你的工作量，尤其是在数据可视化方面，D3 已经将生成可视化的复杂步骤精简到了几个简单的函数，你只需要输入几个简单的数据，就能够转换为各种绚丽的图形。有过 JavaScript 基础的朋友一定很容易理解它。</div><div class="line"></div><div class="line">为什么要数据可视化</div><div class="line">现在有一组数据， 【 4 ， 32 ， 15 ， 16 ， 42 ， 25 】 ，你能一眼看出它们的大小关系吗？当然这里的数据不算多，有那眼疾手快的家伙站出来说我能一眼看出来！但更直观的是用图形显示，如下图：</div><div class="line"></div><div class="line">柱形图</div><div class="line"></div><div class="line">通过图形的显示，能很清楚地知道他们的大小关系。当然，D3 能力远不止如此，这只是一个很小的应用。把枯燥乏味复杂的数据，用简单明了的图形表示出来，这就是数据可视化。</div><div class="line"></div><div class="line">D3 有多受欢迎</div><div class="line">D3 是一个开源项目，作者是纽约时报的工程师。D3 项目的代码托管于 GitHub（一个开发管理平台，目前已经是全世界最流行的代码托管平台，云集了来自世界各地的优秀工程师）。</div><div class="line"></div><div class="line">Github仓库排名</div><div class="line"></div><div class="line">在 GitHub 上最受关注的项目有哪些呢？</div><div class="line"></div><div class="line">JQuery 的名声够大了，但排名第 6，D3 却排名第 5。</div><div class="line"></div><div class="line">如何学习和使用 D3</div><div class="line">以下是几个学习 D3 的站点：</div><div class="line"></div><div class="line">官方网站</div><div class="line">http://d3js.org/</div><div class="line"></div><div class="line">包含有很多示例和 API，要想得心应手的使用 D3，熟悉 API 是避不开的。</div><div class="line"></div><div class="line">Mike Bostock 的博客和作品展示板</div><div class="line">http://bost.ocks.org/mike/</div><div class="line"></div><div class="line">OUR D3.JS 数据可视化专题站</div><div class="line">http://www.ourd3js.com/</div><div class="line"></div><div class="line">笔者开设的站点，包含有 D3 的一系列教程。</div><div class="line"></div><div class="line">D3 是一个 JavaScript 函数库，并不需要通常所说的“安装”。它只有一个文件，在 HTML 中引用即可。有两种方法：</div><div class="line"></div><div class="line">（1）下载 D3.js 的文件</div><div class="line"></div><div class="line">d3.zip</div><div class="line">解压后，在 HTML 文件中包含相关的 js 文件即可。</div><div class="line"></div><div class="line">（2）直接包含网络的链接</div><div class="line"></div><div class="line">&lt;script src=<span class="string">"http://d3js.org/d3.v3.min.js"</span> charset=<span class="string">"utf-8"</span>&gt;&lt;/script&gt;</div><div class="line">这种方法比较简单，但要保持网络连接有效。</div><div class="line"></div><div class="line">学习 D3 需要什么预备知识</div><div class="line">想要通过 D3 来开启数据可视化之旅的朋友，需要什么预备知识呢？</div><div class="line"></div><div class="line">HTML：超文本标记语言，用于设定网页的内容</div><div class="line">CSS：层叠样式表，用于设定网页的样式</div><div class="line">JavaScript：一种直译式脚本语言，用于设定网页的行为</div><div class="line">DOM：文档对象模型，用于修改文档的内容和结构</div><div class="line">SVG：可缩放矢量图形，用于绘制可视化的图形</div><div class="line">路人甲：额，我需要学那么多才能开始学 D3 吗？心理压力有点点...大</div><div class="line"></div><div class="line">馒头华华：不必，完全可以直接学 D3，遇到不明白的地方，再看相关内容即可</div><div class="line"></div><div class="line">路人乙：HTML、CSS 啥的，我从来都没用过，也没有关系吗？</div><div class="line"></div><div class="line">馒头华华：只要在 W3School ，分别看看这几个词是什么意思，是用来干什么的，再看几个简单例子即可，没有必要全掌握了再学习 D3。</div><div class="line"></div><div class="line">需要什么工具</div><div class="line">制作网页常用的工具即可。</div><div class="line"></div><div class="line">记事本软件：Notepad++、Editplus、Sublime Text 等，选择自己喜欢的即可。</div><div class="line"></div><div class="line">浏览器：IE9 以上、Firefox、Chrome 等，推荐用 Chrome</div><div class="line"></div><div class="line">服务器软件：Apache、Tomcat 等</div><div class="line"></div><div class="line">其中，服务器软件可能不是必须的，不过 D3 中有些函数需要将 HTML 文件放置于服务器目录下，才能正常使用，关于这点以后会再做说明。</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">如何选择元素</div><div class="line">在 D3 中，用于选择元素的函数有两个：</div><div class="line"></div><div class="line">d3.select()：是选择所有指定元素的第一个</div><div class="line">d3.selectAll()：是选择指定元素的全部</div><div class="line">这两个函数返回的结果称为选择集。</div><div class="line"></div><div class="line">例如，选择集的常见用法如下。</div><div class="line"></div><div class="line">var body = d3.select(<span class="string">"body"</span>); //选择文档中的body元素</div><div class="line">var p1 = body.select(<span class="string">"p"</span>);      //选择body中的第一个p元素</div><div class="line">var p = body.selectAll(<span class="string">"p"</span>);    //选择body中的所有p元素</div><div class="line">var svg = body.select(<span class="string">"svg"</span>);   //选择body中的svg元素</div><div class="line">var rects = svg.selectAll(<span class="string">"rect"</span>);  //选择svg中所有的svg元素</div><div class="line">选择集和绑定数据通常是一起使用的。</div><div class="line"></div><div class="line">如何绑定数据</div><div class="line">D3 有一个很独特的功能：能将数据绑定到 DOM 上，也就是绑定到文档上。这么说可能不好理解，例如网页中有段落元素 p 和一个整数 5，于是可以将整数 5 与 p 绑定到一起。绑定之后，当需要依靠这个数据才操作元素的时候，会很方便。</div><div class="line"></div><div class="line">D3 中是通过以下两个函数来绑定数据的：</div><div class="line"></div><div class="line">datum()：绑定一个数据到选择集上</div><div class="line">data()：绑定一个数组到选择集上，数组的各项值分别与选择集的各元素绑定</div><div class="line">相对而言，data() 比较常用。</div><div class="line"></div><div class="line">假设现在有三个段落元素如下。</div><div class="line"></div><div class="line">&lt;p&gt;Apple&lt;/p&gt;</div><div class="line">&lt;p&gt;Pear&lt;/p&gt;</div><div class="line">&lt;p&gt;Banana&lt;/p&gt;</div><div class="line">datum()</div><div class="line"></div><div class="line">假设有一字符串 China，要将此字符串分别与三个段落元素绑定，代码如下：</div><div class="line"></div><div class="line">var str = <span class="string">"China"</span>;</div><div class="line"></div><div class="line">var body = d3.select(<span class="string">"body"</span>);</div><div class="line">var p = body.selectAll(<span class="string">"p"</span>);</div><div class="line"></div><div class="line">p.datum(str);</div><div class="line"></div><div class="line">p.text(<span class="keyword">function</span>(d, i)&#123;</div><div class="line">    <span class="built_in">return</span> <span class="string">"第 "</span>+ i + <span class="string">" 个元素绑定的数据是 "</span> + d;</div><div class="line">&#125;);</div><div class="line">绑定数据后，使用此数据来修改三个段落元素的内容，其结果如下：</div><div class="line"></div><div class="line">第 0 个元素绑定的数据是 China</div><div class="line"></div><div class="line">第 1 个元素绑定的数据是 China</div><div class="line"></div><div class="line">第 2 个元素绑定的数据是 China</div><div class="line">在上面的代码中，用到了一个无名函数 <span class="keyword">function</span>(d, i)。当选择集需要使用被绑定的数据时，常需要这么使用。其包含两个参数，其中：</div><div class="line"></div><div class="line">d 代表数据，也就是与某元素绑定的数据。</div><div class="line">i 代表索引，代表数据的索引号，从 0 开始。</div><div class="line">例如，上述例子中：第 0 个元素 apple 绑定的数据是 China。</div><div class="line"></div><div class="line">data()</div><div class="line"></div><div class="line">有一个数组，接下来要分别将数组的各元素绑定到三个段落元素上。</div><div class="line"></div><div class="line">var dataset = [<span class="string">"I like dog"</span>,<span class="string">"I like cat"</span>,<span class="string">"I like snake"</span>];</div><div class="line">绑定之后，其对应关系的要求为：</div><div class="line"></div><div class="line">Apple 与 I like dog 绑定</div><div class="line">Pear 与 I like cat 绑定</div><div class="line">Banana 与 I like snake 绑定</div><div class="line">调用 data() 绑定数据，并替换三个段落元素的字符串为被绑定的字符串，代码如下：</div><div class="line"></div><div class="line">var body = d3.select(<span class="string">"body"</span>);</div><div class="line">var p = body.selectAll(<span class="string">"p"</span>);</div><div class="line"></div><div class="line">p.data(dataset)</div><div class="line">  .text(<span class="keyword">function</span>(d, i)&#123;</div><div class="line">      <span class="built_in">return</span> d;</div><div class="line">  &#125;);</div><div class="line">这段代码也用到了一个无名函数 <span class="keyword">function</span>(d, i)，其对应的情况如下：</div><div class="line"></div><div class="line">当 i == 0 时， d 为 I like dog。</div><div class="line">当 i == 1 时， d 为 I like cat。</div><div class="line">当 i == 2 时， d 为 I like snake。</div><div class="line">此时，三个段落元素与数组 dataset 的三个字符串是一一对应的，因此，在函数 <span class="keyword">function</span>(d, i) 直接 <span class="built_in">return</span> d 即可。</div><div class="line"></div><div class="line">结果自然是三个段落的文字分别变成了数组的三个字符串。</div><div class="line"></div><div class="line">I like dog</div><div class="line"></div><div class="line">I like cat</div><div class="line"></div><div class="line">I like snake</div><div class="line"></div><div class="line"></div><div class="line">如何选择元素</div><div class="line">上一章已经讲解了 select 和 selectAll，以及选择集的概念。本节具体讲解这两个函数的用法。</div><div class="line"></div><div class="line">假设在 body 中有三个段落元素：</div><div class="line"></div><div class="line">&lt;p&gt;Apple&lt;/p&gt;</div><div class="line">&lt;p&gt;Pear&lt;/p&gt;</div><div class="line">&lt;p&gt;Banana&lt;/p&gt;</div><div class="line">现在，要分别完成以下四种选择元素的任务。</div><div class="line"></div><div class="line">选择第一个 p 元素</div><div class="line"></div><div class="line">使用 select ，参数传入 p 即可，如此返回的是第一个 p 元素。</div><div class="line"></div><div class="line">t(<span class="string">"p"</span>);</div><div class="line">p1.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下图，被选择的元素标记为红色。</div><div class="line"></div><div class="line">选择第一个元素</div><div class="line"></div><div class="line">选择三个 p 元素</div><div class="line"></div><div class="line">使用 selectAll 选择 body 中所有的 p 元素。</div><div class="line"></div><div class="line">var p = body.selectAll(<span class="string">"p"</span>);</div><div class="line">p.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下：</div><div class="line"></div><div class="line">选择三个元素</div><div class="line"></div><div class="line">选择第二个 p 元素</div><div class="line"></div><div class="line">有不少方法，一种比较简单的是给第二个元素添加一个 id 号。</div><div class="line"></div><div class="line">Pear</div><div class="line"></div><div class="line">然后，使用 select 选择元素，注意参数中 id 名称前要加 <span class="comment"># 号。</span></div><div class="line"></div><div class="line">var p2 = body.select(<span class="string">"#myid"</span>);</div><div class="line">p2.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下：</div><div class="line"></div><div class="line">选择第二个元素</div><div class="line"></div><div class="line">选择后两个 p 元素</div><div class="line"></div><div class="line">给后两个元素添加 class，</div><div class="line"></div><div class="line">&lt;p class=<span class="string">"myclass"</span>&gt;Pear&lt;/p&gt;</div><div class="line">&lt;p class=<span class="string">"myclass"</span>&gt;Banana&lt;/p&gt;</div><div class="line">由于需要选择多个元素，要用 selectAll。注意参数，class 名称前要加一个点。</div><div class="line"></div><div class="line">var p = body.selectAll(<span class="string">".myclass"</span>);</div><div class="line">p.style(<span class="string">"color"</span>,<span class="string">"red"</span>);</div><div class="line">结果如下：</div><div class="line"></div><div class="line">选择后两个元素</div><div class="line"></div><div class="line">关于 select 和 selectAll 的参数，其实是符合 CSS 选择器的条件的，即用“井号（<span class="comment">#）”表示 id，用“点（.）”表示 class。</span></div><div class="line"></div><div class="line">此外，对于已经绑定了数据的选择集，还有一种选择元素的方法，那就是灵活运用 <span class="keyword">function</span>(d, i)。我们已经知道参数 i 是代表索引号的，于是便可以用条件判定语句来指定执行的元素。</div><div class="line"></div><div class="line">插入元素</div><div class="line">插入元素涉及的函数有两个：</div><div class="line"></div><div class="line">append()：在选择集末尾插入元素</div><div class="line">insert()：在选择集前面插入元素</div><div class="line">假设有三个段落元素，与上文相同。</div><div class="line"></div><div class="line"> append()</div><div class="line"></div><div class="line">body.append(<span class="string">"p"</span>)</div><div class="line">    .text(<span class="string">"append p element"</span>);</div><div class="line">在 body 的末尾添加一个 p 元素，结果为：</div><div class="line"></div><div class="line">Apple</div><div class="line">Pear</div><div class="line">Banana</div><div class="line">append p element</div><div class="line">insert()</div><div class="line"></div><div class="line">在 body 中 id 为 myid 的元素前添加一个段落元素。</div><div class="line"></div><div class="line">body.insert(<span class="string">"p"</span>,<span class="string">"#myid"</span>)</div><div class="line">  .text(<span class="string">"insert p element"</span>);</div><div class="line">已经指定了 Pear 段落的 id 为 myid，因此结果如下。</div><div class="line"></div><div class="line">Apple</div><div class="line">insert p element</div><div class="line">Pear</div><div class="line">Banana</div><div class="line">删除元素</div><div class="line">删除一个元素时，对于选择的元素，使用 remove 即可，例如：</div><div class="line"></div><div class="line">var p = body.select(<span class="string">"#myid"</span>);</div><div class="line">p.remove();</div><div class="line">如此即可删除指定 id 的段落元素。</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/hello-world/" data-id="cj9cctgrf000178wyo8vik4rj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-angular6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/angular6/" class="article-date">
  <time datetime="2015-12-27T04:52:22.000Z" itemprop="datePublished">2015-12-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/angular6/">angular项目经验六</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">博客</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="angular项目用到的知识点"><a href="#angular项目用到的知识点" class="headerlink" title="angular项目用到的知识点"></a>angular项目用到的知识点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">错误一：</div><div class="line"></div><div class="line">配了控制器定义使用控制器，</div><div class="line"></div><div class="line">get 定义；</div><div class="line"></div><div class="line"></div><div class="line">没找到文件，路径写错；</div><div class="line"></div><div class="line"></div><div class="line">请求真数据；</div><div class="line">利用封装的Jsonp请求函数，</div><div class="line"><span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">//service全局资源； jsonp请求函数封装；</div><div class="line">      this.myJsonp = <span class="keyword">function</span>(url,data,callback)&#123;</div><div class="line">         var fnName = <span class="string">'myJsonp_'</span> + Math.random().toString().replace(<span class="string">'.'</span>,<span class="string">''</span>);</div><div class="line">         window[fnName] = callback;</div><div class="line">         var querystring = <span class="string">''</span>;</div><div class="line">         <span class="keyword">for</span>(var attr <span class="keyword">in</span> data)&#123;</div><div class="line">           querystring += attr + <span class="string">'='</span> + data[attr] + <span class="string">'&amp;'</span>;</div><div class="line">         &#125;</div><div class="line">         var script = document.createElement(<span class="string">'script'</span>);</div><div class="line">         script.src = url + <span class="string">'?'</span> + querystring + <span class="string">'callback='</span> + fnName;</div><div class="line">         script.onload = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">            document.body.removeChild(script);</div><div class="line">         &#125;</div><div class="line">         document.body.appendChild(script);</div><div class="line">      &#125;</div><div class="line">   &#125;</div><div class="line"></div><div class="line">请求真数据利用封装的Jsonp请求函数，加入angular.js成为公共资源：用service使它成为公共资源；</div><div class="line">.service(<span class="string">'common'</span>,[<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">//service全局资源； jsonp请求函数封装；</div><div class="line">      this.myJsonp = <span class="keyword">function</span>(url,data,callback)&#123;</div><div class="line">         var fnName = <span class="string">'myJsonp_'</span> + Math.random().toString().replace(<span class="string">'.'</span>,<span class="string">''</span>);</div><div class="line">         window[fnName] = callback;</div><div class="line">         var querystring = <span class="string">''</span>;</div><div class="line">         <span class="keyword">for</span>(var attr <span class="keyword">in</span> data)&#123;</div><div class="line">            querystring += attr + <span class="string">'='</span> + data[attr] + <span class="string">'&amp;'</span>;</div><div class="line">         &#125;</div><div class="line">         var script = document.createElement(<span class="string">'script'</span>);</div><div class="line">         script.src = url + <span class="string">'?'</span> + querystring + <span class="string">'callback='</span> + fnName;</div><div class="line">         script.onload = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">            document.body.removeChild(script);</div><div class="line">         &#125;</div><div class="line">         document.body.appendChild(script);</div><div class="line">      &#125;</div><div class="line">   &#125;])</div><div class="line"></div><div class="line">在其相应的控制器模块使用jsonp请求函数，</div><div class="line">.controller(<span class="string">'in_theatersCtrl'</span>,[<span class="string">'$scope'</span>,<span class="string">'$http'</span>,<span class="string">'common'</span>, <span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$http</span>,common)&#123;</div><div class="line">      common.myJsonp(<span class="string">'http://api.douban.com/v2/movie/in_theaters'</span>,&#123;&#125;, <span class="keyword">function</span> (res) &#123;</div><div class="line">         console.log(res)</div><div class="line">         <span class="variable">$scope</span>.result=res</div><div class="line">         <span class="variable">$scope</span>.<span class="variable">$apply</span>();  // 请求回来数据却渲染不上页面是因为angular不知道，数据已经刷新，用<span class="variable">$scope</span>.<span class="variable">$apply</span>()通知angular刷新</div><div class="line">      &#125;)</div><div class="line">&#125;])</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">angular.module(<span class="string">'moviecat'</span>,[<span class="string">'ui.router'</span>])</div><div class="line"></div><div class="line">   .config([<span class="string">'$stateProvider'</span>,<span class="string">'$urlRouterProvider'</span>,<span class="keyword">function</span>(<span class="variable">$stateProvider</span>,<span class="variable">$urlRouterProvider</span>)&#123;</div><div class="line"></div><div class="line">      <span class="variable">$stateProvider</span></div><div class="line">         .state(&#123;</div><div class="line">            url:<span class="string">'/in_theaters/:page'</span>,</div><div class="line">            templateUrl:<span class="string">'./views/in_theaters/in_theaters.html'</span>,</div><div class="line">            name:<span class="string">'in_theaters'</span>,</div><div class="line">            controller:<span class="string">'in_theatersCtrl'</span>  // 在路由里可以为该页面设置控制器，</div><div class="line">         &#125;)</div><div class="line">         //再点击跳转到另一个页面，应该想到配置路由，一想到页面跳转就想到路由配置；</div><div class="line">         .state(&#123;</div><div class="line">            //即将上映coming_soon</div><div class="line">            url:<span class="string">'/coming_soon/:page'</span>,</div><div class="line">            templateUrl:<span class="string">'./views/coming_soon.html'</span>,</div><div class="line">            name:<span class="string">'coming_soon'</span>,</div><div class="line">            controller:<span class="string">'coming_soonCtrl'</span>  // 在路由里可以为该页面设置控制器，</div><div class="line">         &#125;)</div><div class="line"></div><div class="line">      // 当没有匹配的路由时 默认跳转到正在热映</div><div class="line">      <span class="variable">$urlRouterProvider</span>.otherwise(<span class="string">'/in_theaters'</span>);</div><div class="line"></div><div class="line">   &#125;])</div><div class="line"></div><div class="line">   .service(<span class="string">'common'</span>,[<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line"></div><div class="line">//service全局资源； jsonp请求函数封装；</div><div class="line">      this.myJsonp = <span class="keyword">function</span>(url,data,callback)&#123;</div><div class="line"></div><div class="line">         var fnName = <span class="string">'myJsonp_'</span> + Math.random().toString().replace(<span class="string">'.'</span>,<span class="string">''</span>);</div><div class="line"></div><div class="line">         window[fnName] = callback;</div><div class="line"></div><div class="line">         var querystring = <span class="string">''</span>;</div><div class="line"></div><div class="line">         <span class="keyword">for</span>(var attr <span class="keyword">in</span> data)&#123;</div><div class="line"></div><div class="line">            querystring += attr + <span class="string">'='</span> + data[attr] + <span class="string">'&amp;'</span>;</div><div class="line"></div><div class="line">         &#125;</div><div class="line"></div><div class="line">         var script = document.createElement(<span class="string">'script'</span>);</div><div class="line"></div><div class="line">         script.src = url + <span class="string">'?'</span> + querystring + <span class="string">'callback='</span> + fnName;</div><div class="line"></div><div class="line">         script.onload = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line"></div><div class="line">            document.body.removeChild(script);</div><div class="line"></div><div class="line">         &#125;</div><div class="line"></div><div class="line">         document.body.appendChild(script);</div><div class="line"></div><div class="line">      &#125;</div><div class="line"></div><div class="line">   &#125;])</div><div class="line"></div><div class="line"></div><div class="line">   .controller(<span class="string">'in_theatersCtrl'</span>,[<span class="string">'$scope'</span>,<span class="string">'$http'</span>,<span class="string">'common'</span>, <span class="string">'$stateParams'</span>,<span class="string">'$location'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$http</span>,common,<span class="variable">$stateParams</span>,<span class="variable">$location</span>)&#123;</div><div class="line">//要请求数据，请求其他页面的数据用<span class="variable">$http</span>请求，相当于ajax请求；</div><div class="line">//<span class="variable">$http</span>(&#123;</div><div class="line">// url:<span class="string">'./js/in_theaters.json'</span>, // 路径相对页面，因为该文件会被引入html页面；</div><div class="line">// meothod:<span class="string">'get'</span></div><div class="line">////   没有要发送的数据；</div><div class="line">//&#125;).<span class="keyword">then</span>(<span class="keyword">function</span> (res) &#123; //成功函数；</div><div class="line">// console.log(res.data)</div><div class="line">// <span class="variable">$scope</span>.result=res.data; // 将数据挂载到<span class="variable">$scope</span>全局才拿得到。</div><div class="line">//&#125;)</div><div class="line">      //console.log(<span class="variable">$stateParams</span>)</div><div class="line"></div><div class="line">      //用接口做分页；因此得按钮要求的方式来，得传start：起始元素；</div><div class="line">      // count ；返回结果的数量；</div><div class="line">      var page =<span class="variable">$stateParams</span>.page // 当前页；</div><div class="line">      console.log(page)</div><div class="line"></div><div class="line">      var count=10;</div><div class="line">      var start=( page - 1)*count;</div><div class="line">      var totalpage=0;</div><div class="line"></div><div class="line"></div><div class="line">      //<span class="built_in">return</span>;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">   //       common.myJsonp(<span class="string">'http://api.douban.com/v2/movie/in_theaters'</span>,&#123;&#125;, <span class="keyword">function</span> (res) &#123;</div><div class="line">   //       //console.log(res)</div><div class="line">   //       <span class="variable">$scope</span>.result=res</div><div class="line">   //       <span class="variable">$scope</span>.<span class="variable">$apply</span>();  // 请求回来数据却渲染不上页面是因为angular不知道，数据已经刷新，用<span class="variable">$scope</span>.<span class="variable">$apply</span>()通知angular刷新</div><div class="line">   //    &#125;)</div><div class="line">   //&#125;])</div><div class="line">      common.myJsonp(<span class="string">'http://api.douban.com/v2/movie/in_theaters'</span>,&#123; count:count,</div><div class="line">      start:start &#125;, <span class="keyword">function</span> (res) &#123;</div><div class="line">         //console.log(res)</div><div class="line">         <span class="variable">$scope</span>.result=res</div><div class="line">         totalpage=Math.ceil(res.total/count);</div><div class="line">         <span class="variable">$scope</span>.<span class="variable">$apply</span>();  // 请求回来数据却渲染不上页面是因为angular不知道，数据已经刷新，用<span class="variable">$scope</span>.<span class="variable">$apply</span>()通知angular刷新</div><div class="line">      &#125;)</div><div class="line">      </div><div class="line">      <span class="variable">$scope</span>.changePage= <span class="keyword">function</span> (<span class="built_in">type</span>) &#123;</div><div class="line">         <span class="keyword">if</span>(<span class="built_in">type</span>==<span class="string">'next'</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(page&gt;totalpage)&#123;</div><div class="line">               page=totalpage</div><div class="line">            &#125;</div><div class="line">            page++;</div><div class="line"></div><div class="line">         &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">type</span>==<span class="string">'prev'</span>)&#123;</div><div class="line">            page--;</div><div class="line">            <span class="keyword">if</span>(page&lt;1)&#123;</div><div class="line">               page=1;</div><div class="line">            &#125;</div><div class="line">            //<span class="variable">$location</span>.path(<span class="string">'/in_theaters/'</span> + page);  // 路由跳转；</div><div class="line">         &#125;</div><div class="line">         <span class="variable">$location</span>.path(<span class="string">'/in_theaters/'</span> + page);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      </div><div class="line">   &#125;])</div><div class="line"></div><div class="line"></div><div class="line">   .controller(<span class="string">'coming_soonCtrl'</span>,[<span class="string">'$scope'</span>,<span class="string">'$http'</span>,<span class="string">'common'</span>, <span class="string">'$stateParams'</span>,<span class="string">'$location'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$http</span>,common,<span class="variable">$stateParams</span>,<span class="variable">$location</span>)&#123;</div><div class="line">//要请求数据，请求其他页面的数据用<span class="variable">$http</span>请求，相当于ajax请求；</div><div class="line">//<span class="variable">$http</span>(&#123;</div><div class="line">// url:<span class="string">'./js/in_theaters.json'</span>, // 路径相对页面，因为该文件会被引入html页面；</div><div class="line">// meothod:<span class="string">'get'</span></div><div class="line">////   没有要发送的数据；</div><div class="line">//&#125;).<span class="keyword">then</span>(<span class="keyword">function</span> (res) &#123; //成功函数；</div><div class="line">// console.log(res.data)</div><div class="line">// <span class="variable">$scope</span>.result=res.data; // 将数据挂载到<span class="variable">$scope</span>全局才拿得到。</div><div class="line">//&#125;)</div><div class="line">      //console.log(<span class="variable">$stateParams</span>)</div><div class="line"></div><div class="line">      //用接口做分页；因此得按钮要求的方式来，得传start：起始元素；</div><div class="line">      // count ；返回结果的数量；</div><div class="line">      var page =<span class="variable">$stateParams</span>.page // 当前页；</div><div class="line">      console.log(page)</div><div class="line"></div><div class="line">      var count=10;</div><div class="line">      var start=( page - 1)*count;</div><div class="line">      var totalpage=0;</div><div class="line"></div><div class="line"></div><div class="line">      //<span class="built_in">return</span>;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">      //       common.myJsonp(<span class="string">'http://api.douban.com/v2/movie/in_theaters'</span>,&#123;&#125;, <span class="keyword">function</span> (res) &#123;</div><div class="line">      //       //console.log(res)</div><div class="line">      //       <span class="variable">$scope</span>.result=res</div><div class="line">      //       <span class="variable">$scope</span>.<span class="variable">$apply</span>();  // 请求回来数据却渲染不上页面是因为angular不知道，数据已经刷新，用<span class="variable">$scope</span>.<span class="variable">$apply</span>()通知angular刷新</div><div class="line">      //    &#125;)</div><div class="line">      //&#125;])</div><div class="line">      common.myJsonp(<span class="string">'http://api.douban.com/v2/movie/coming_soon'</span>,&#123; count:count,</div><div class="line">         start:start &#125;, <span class="keyword">function</span> (res) &#123;</div><div class="line">         //console.log(res)</div><div class="line">         <span class="variable">$scope</span>.result=res</div><div class="line">         totalpage=Math.ceil(res.total/count);</div><div class="line">         <span class="variable">$scope</span>.<span class="variable">$apply</span>();  // 请求回来数据却渲染不上页面是因为angular不知道，数据已经刷新，用<span class="variable">$scope</span>.<span class="variable">$apply</span>()通知angular刷新</div><div class="line">      &#125;)</div><div class="line"></div><div class="line">      <span class="variable">$scope</span>.changePage= <span class="keyword">function</span> (<span class="built_in">type</span>) &#123;</div><div class="line">         <span class="keyword">if</span>(<span class="built_in">type</span>==<span class="string">'next'</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(page&gt;totalpage)&#123;</div><div class="line">               page=totalpage</div><div class="line">            &#125;</div><div class="line">            page++;</div><div class="line"></div><div class="line">         &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">type</span>==<span class="string">'prev'</span>)&#123;</div><div class="line">            page--;</div><div class="line">            <span class="keyword">if</span>(page&lt;1)&#123;</div><div class="line">               page=1;</div><div class="line">            &#125;</div><div class="line">            //<span class="variable">$location</span>.path(<span class="string">'/in_theaters/'</span> + page);  // 路由跳转；</div><div class="line">         &#125;</div><div class="line">         <span class="variable">$location</span>.path(<span class="string">'/coming_soon/'</span> + page);</div><div class="line">      &#125;</div><div class="line"></div><div class="line"></div><div class="line">   &#125;])</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/angular6/" data-id="cj9ciryv50001igwycrz7802g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-angular5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/angular5/" class="article-date">
  <time datetime="2015-11-27T12:11:01.000Z" itemprop="datePublished">2015-11-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/angular5/">angular项目经验五</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">博客</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="angular项目用到的知识点"><a href="#angular项目用到的知识点" class="headerlink" title="angular项目用到的知识点"></a>angular项目用到的知识点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">打开文件夹 ： 按住<span class="built_in">shift</span>+点击右键，在此处打开命令行；或widows+r 打开命令行；</div><div class="line">一、下载dulp;</div><div class="line"></div><div class="line"></div><div class="line">二。在gulp的目录下建立一个：gulp.js文件；在gulp.js里边写要做的任务；</div><div class="line">先在此js文件里面引入gulp</div><div class="line"></div><div class="line">引入gulp包，会返回一个对象；得接受一下；</div><div class="line"></div><div class="line">建立任务；第一个参数是任务名字，第二个是回调函数，要做的事情就写在函数里面</div><div class="line">gulp.task(<span class="string">'first'</span>,<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">    gulp.src(<span class="string">'./css/base.css'</span>)  // gulp.src(<span class="string">'文件路径'</span>) 获取文件</div><div class="line">       //  gulp.dest(<span class="string">'css'</span>)  //gulp.dest(<span class="string">'文件路径'</span>) 输出文件到目录</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/css'</span>))   //获取了文件要对这个文件做什么写在pipe里面； pipe(<span class="string">'怎样处理'</span>) 处理任务,将文件输出到dist/css这个文件夹里；</div><div class="line">&#125;);</div><div class="line"></div><div class="line">怎么运行此gulp.js？</div><div class="line">下载一个软件；</div><div class="line"></div><div class="line">+ -g 默认安装到全局安装；</div><div class="line"></div><div class="line">在命令行里输入</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">先执行第二个任务，在执行第一个任务。</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/angular5/" data-id="cj9cirytu0000igwyp64r399d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-angular4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/angular4/" class="article-date">
  <time datetime="2015-11-18T15:19:01.000Z" itemprop="datePublished">2015-11-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/angular4/">angular项目经验四</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to [博客]</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">angular请求数据的方式；</div><div class="line">&lt;script src=<span class="string">"node_modules/angular-sanitize.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;!-- 请求数据需要引入文件sanitize--&gt;</div><div class="line">&lt;script&gt;</div><div class="line">   angular.module(<span class="string">'myApp'</span>,[<span class="string">'ngSanitize'</span>])  // 方括号里写引入的依赖；</div><div class="line">      .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="string">'$http'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$http</span>)&#123;</div><div class="line">            $.ajax(&#123;</div><div class="line">               url:<span class="string">''</span>, </div><div class="line">               <span class="built_in">type</span>:<span class="string">''</span>, </div><div class="line">               data:&#123;&#125;, </div><div class="line">               beforeSend:<span class="function"><span class="title">function</span></span>()&#123;&#125;, // <span class="variable">$http</span>中没有</div><div class="line">               async:<span class="literal">true</span>, // <span class="variable">$http</span>中没有同步 只有异步</div><div class="line">               success:<span class="keyword">function</span>(res)&#123;&#125;</div><div class="line">            &#125;)</div><div class="line">         <span class="variable">$http</span>(&#123;  //与$.ajax请求类似；</div><div class="line">            url:<span class="string">'./test.json'</span>, // 请求地址</div><div class="line">            method:<span class="string">'post'</span>, // 请求方式 </div><div class="line">            params:&#123; // get传参  不同的传参方式</div><div class="line">               a:1, </div><div class="line">                            b:2</div><div class="line">            &#125;,</div><div class="line">            data:&#123; // post传参</div><div class="line">               c:3,</div><div class="line">                           d:4 </div><div class="line">            &#125;</div><div class="line">         &#125;).<span class="keyword">then</span>(<span class="keyword">function</span>(res)&#123;              // 成功回调用</div><div class="line">            console.log(res.data);</div><div class="line">         &#125;,<span class="function"><span class="title">function</span></span>()&#123;              // 失败回调 </div><div class="line">         &#125;)</div><div class="line">         <span class="variable">$http</span>.get(<span class="string">'./test.json'</span>,&#123; params:&#123; a:1,b:2 &#125; &#125;).<span class="keyword">then</span>(<span class="keyword">function</span>(res)&#123;</div><div class="line">            console.log(res) //  get请求text.json 成功时的函数；res是text.json的数据；</div><div class="line">         &#125;);</div><div class="line">         <span class="variable">$http</span>.post(<span class="string">'./test.json'</span>,&#123;c:3,d:4&#125;).<span class="keyword">then</span>(<span class="keyword">function</span>(res)&#123;</div><div class="line">            console.log(res)//  post请求text.json 成功时的函数；res是text.json的数据；</div><div class="line">         &#125;);</div><div class="line">         <span class="variable">$http</span>.get(<span class="string">'./test.json'</span>).<span class="keyword">then</span>(<span class="keyword">function</span>(res)&#123;</div><div class="line">      console.log(res.data); //  get请求text.json 成功时的函数；res是text.json的数据；</div><div class="line">            <span class="variable">$scope</span>.result = res.data; // 将请求成功的数据应用于页面；</div><div class="line">         &#125;);</div><div class="line">      &#125;])</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">angular将原生js对象转化成jQ对象：</div><div class="line">angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">   .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>)&#123;</div><div class="line">      // angularjs给我们提供了一个jquery的精简版叫做 jqLite</div><div class="line">      // 目的是为了方便DOM操作</div><div class="line">      // $(原生JS对象) 将原生JS对象转换为JQ对象</div><div class="line">      // angular.element(原生JS对象) 将原生JS对象转换成jqLite对象</div><div class="line">      angular.element(document.getElementById(<span class="string">'box'</span>)).css(&#123;</div><div class="line">         width:<span class="string">'500px'</span>,</div><div class="line">         height:<span class="string">'200px'</span>,</div><div class="line">         background:<span class="string">'skyblue'</span>,</div><div class="line">         color:<span class="string">'#FFF'</span></div><div class="line">      &#125;);</div><div class="line">      console.log(angular.element(document.getElementById(<span class="string">'box'</span>)))</div><div class="line">                    //  将原生JS对象转换为JQ对象</div><div class="line">   &#125;])</div><div class="line"></div><div class="line"><span class="variable">$watch</span> :  // 用来监控一个数据的实时变化 只要数据发生变化 就会执行回调函数</div><div class="line"><span class="variable">$scope</span>.val = <span class="string">"初始值"</span>;</div><div class="line">   // 用来监控一个数据的实时变化 只要数据发生变化 就会执行回调函数</div><div class="line">   // newValue 当前用户输入的最新值</div><div class="line">   // oldValue 用户上一次输入的值</div><div class="line">   // 页面一上来会默认执行一次</div><div class="line">   <span class="variable">$scope</span>.<span class="variable">$watch</span>(<span class="string">"val"</span>,<span class="keyword">function</span>(newValue,oldValue)&#123;</div><div class="line">      <span class="keyword">if</span>(newValue.length &gt; 10)&#123;</div><div class="line">         <span class="variable">$scope</span>.tips = <span class="string">"大于10"</span>;</div><div class="line">      &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(newValue.length == 10)&#123; // 数值相等用双等号；</div><div class="line">         <span class="variable">$scope</span>.tips = <span class="string">"等于10"</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">else</span>&#123;</div><div class="line">         <span class="variable">$scope</span>.tips = <span class="string">"小于10"</span>;</div><div class="line">      &#125;</div><div class="line">   &#125;)</div><div class="line">&#125;])</div><div class="line"></div><div class="line"></div><div class="line"> <span class="variable">$scope</span>.<span class="variable">$apply</span>();   // 通知angularjs 说 js中的数据变了 你帮我更新一下HTML页面吧</div><div class="line">window.changeValue = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">   <span class="variable">$scope</span>.val = <span class="string">"456"</span>;</div><div class="line">   // 通知angularjs 说 js中的数据变了 你帮我更新一下HTML页面吧</div><div class="line">   <span class="variable">$scope</span>.<span class="variable">$apply</span>();</div><div class="line">   // alert(<span class="variable">$scope</span>.val);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/angular4/" data-id="cj9ciivl8000148wybzjmtn74" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-angular3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/angular3/" class="article-date">
  <time datetime="2015-09-18T13:10:06.000Z" itemprop="datePublished">2015-09-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/angular3/">angular项目经验三</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">博客</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="angular项目用到的知识点"><a href="#angular项目用到的知识点" class="headerlink" title="angular项目用到的知识点"></a>angular项目用到的知识点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">&lt;body ng-app=<span class="string">"todo"</span> ng-controller=<span class="string">"todoCtrl"</span>&gt;</div><div class="line">&lt;!-- 必须记得写管理模块名字，和控制器名字--&gt;</div><div class="line">   &lt;section id=<span class="string">"todoapp"</span>&gt;</div><div class="line">      &lt;header id=<span class="string">"header"</span>&gt;</div><div class="line">         &lt;h1&gt;todos&lt;/h1&gt;</div><div class="line">         &lt;form id=<span class="string">"todo-form"</span>&gt;</div><div class="line">            &lt;input id=<span class="string">"new-todo"</span> placeholder=<span class="string">"What needs to be done?"</span>  autofocus ng-model=<span class="string">"task"</span> ng-keyup=<span class="string">"addTask(<span class="variable">$event</span>)"</span>&gt;</div><div class="line">            &lt;!-- 调用函数的时候如果有参数，记得在函数括号里写上参数--&gt;</div><div class="line">         &lt;/form&gt;</div><div class="line">      &lt;/header&gt;</div><div class="line">      &lt;section id=<span class="string">"main"</span>&gt;</div><div class="line">         &lt;input <span class="built_in">type</span>=<span class="string">"checkbox"</span> id=<span class="string">"toggle-all"</span> ng-model=<span class="string">"status"</span> ng-click=<span class="string">"changeStatus()"</span>&gt;</div><div class="line">         &lt;label <span class="keyword">for</span>=<span class="string">"toggle-all"</span>&gt;Mark all as complete&lt;/label&gt;</div><div class="line">         &lt;ul id=<span class="string">"todo-list"</span>&gt;</div><div class="line">            &lt;li  ng-repeat=<span class="string">"item in taskList | filter : &#123;isCompleted : condition&#125;"</span>   ng-class=<span class="string">"&#123;'completed':item.isCompleted,'editing':item.isEditing&#125;"</span>&gt;</div><div class="line">               &lt;!--点击添加类名，控制完成任务--&gt;</div><div class="line">               &lt;div class=<span class="string">"view"</span>&gt;</div><div class="line">                  &lt;input class=<span class="string">"toggle"</span> <span class="built_in">type</span>=<span class="string">"checkbox"</span> ng-model=<span class="string">"item.isCompleted"</span> ng-click=<span class="string">"checkStatus()"</span>&gt;</div><div class="line">                  &lt;!-- 点击选项时，存放选项的状态，用于是否添加完成类名--&gt;</div><div class="line">                  &lt;label ng-bind=<span class="string">"item.name"</span> ng-dblclick=<span class="string">"modifyTaskName(item)"</span>&gt;&lt;/label&gt;</div><div class="line">                  &lt;button class=<span class="string">"destroy"</span> ng-click=<span class="string">"deleteTask(item)"</span>&gt;&lt;/button&gt;</div><div class="line">                  &lt;!-- 在删除按钮里绑定点击删除事件，在删除事件里通过该项的索引indexOf，spilce删除该项数据--&gt;</div><div class="line"></div><div class="line">               &lt;/div&gt;</div><div class="line">               &lt;form&gt;</div><div class="line">                  &lt;input class=<span class="string">"edit"</span>ng-model=<span class="string">"item.name"</span> ng-blur=<span class="string">"cancelEditing(item)"</span> auto-focus&gt;</div><div class="line">               &lt;/form&gt;</div><div class="line">            &lt;/li&gt;</div><div class="line">         &lt;/ul&gt;</div><div class="line">      &lt;/section&gt;</div><div class="line">      &lt;footer id=<span class="string">"footer"</span>&gt;</div><div class="line">         &lt;span id=<span class="string">"todo-count"</span>&gt;</div><div class="line">            &lt;strong &gt;&#123;&#123; unCompletedTask() &#125;&#125;&lt;/strong&gt;&amp;nbsp;items left</div><div class="line">         &lt;/span&gt;</div><div class="line">         &lt;ul id=<span class="string">"filters"</span>&gt;</div><div class="line">            &lt;li&gt;</div><div class="line">               &lt;a ng-class=<span class="string">"&#123;'selected': isSelected=='All'&#125;"</span> ng-click=<span class="string">"filterTask('All')"</span> href=<span class="string">"javascript:;"</span>&gt;All&lt;/a&gt;</div><div class="line">               &lt;!-- 给a标签添加类名，ng-class=<span class="string">"&#123;'wanc',ture&#125;"</span>  在点击函数里面定义了isSelected，</div><div class="line">               而且在点击不同按钮时，传了不同参数  利用不同参数进入不同的<span class="keyword">case</span>，从给isSelected赋不同的值--&gt;</div><div class="line">            &lt;/li&gt;</div><div class="line">            &lt;li&gt;</div><div class="line">               &lt;a ng-class=<span class="string">"&#123;'selected': isSelected=='Active'&#125;"</span> ng-click=<span class="string">"filterTask('Active')"</span> href=<span class="string">"javascript:;"</span>&gt;Active&lt;/a&gt;</div><div class="line">            &lt;/li&gt;</div><div class="line">            &lt;li&gt;</div><div class="line">               &lt;a ng-class=<span class="string">"&#123;'selected': isSelected=='Completed'&#125;"</span> ng-click=<span class="string">"filterTask('Completed')"</span> href=<span class="string">"javascript:;"</span>&gt;Completed&lt;/a&gt;</div><div class="line">            &lt;/li&gt;</div><div class="line">         &lt;/ul&gt;</div><div class="line">         &lt;button id=<span class="string">"clear-completed"</span> ng-click=<span class="string">"clearCompletedTasks()"</span>&gt;Clear completed&lt;/button&gt;</div><div class="line">      &lt;/footer&gt;</div><div class="line">   &lt;/section&gt;</div><div class="line">   &lt;script src=<span class="string">"node_modules/angular/angular.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">   &lt;script src=<span class="string">"js/index.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/angular3/" data-id="cj9ciivkd000048wy9uf9vruw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hehe" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/hehe/" class="article-date">
  <time datetime="2015-08-15T11:30:06.000Z" itemprop="datePublished">2015-08-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hehe/">angular项目经验二</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">黄镇的博客</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="开始阅读"><a href="#开始阅读" class="headerlink" title="开始阅读"></a>开始阅读</h2><h3 id="angular项目用到的知识点"><a href="#angular项目用到的知识点" class="headerlink" title="angular项目用到的知识点"></a>angular项目用到的知识点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div></pre></td><td class="code"><pre><div class="line">代码详解：</div><div class="line">   var app = angular.module(<span class="string">'myApp'</span>,[<span class="string">'ngRoute'</span>]); //</div><div class="line">   app.config(<span class="keyword">function</span>(<span class="variable">$routeProvider</span>)&#123;</div><div class="line">      <span class="variable">$routeProvider</span></div><div class="line">         .when(<span class="string">'/index'</span>,&#123;</div><div class="line">            templateUrl:<span class="string">'indexTpl'</span>  // 模板三；</div><div class="line">         &#125;)</div><div class="line">         .when(<span class="string">'/list'</span>,&#123;</div><div class="line">            templateUrl:<span class="string">'listTpl'</span></div><div class="line">         &#125;)</div><div class="line">         .when(<span class="string">'/article/:id/:title'</span>,&#123;  // /article是跳转页面的路径， /:id 是自定义的参数， /:title也是自定义参数</div><div class="line">            templateUrl:<span class="string">'articleTpl'</span>,</div><div class="line">            controller:<span class="string">'articleCtrl'</span>  // 添加控制器名称</div><div class="line">         &#125;)</div><div class="line">   &#125;)</div><div class="line">   app.controller(<span class="string">'articleCtrl'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$routeParams</span>)&#123;</div><div class="line">        // 控制器</div><div class="line">      // <span class="variable">$routeParams</span> 对象 里面存储着当前路由传递过来的参数</div><div class="line">      console.log(<span class="variable">$routeParams</span>);</div><div class="line">      <span class="variable">$scope</span>.msg = <span class="string">"当前文章的ID是"</span> + <span class="variable">$routeParams</span>.id;</div><div class="line">   &#125;)</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;script id=<span class="string">"indexTpl"</span> <span class="built_in">type</span>=<span class="string">"text/ng-template"</span>&gt;</div><div class="line">   &lt;div&gt;我是首页&lt;/div&gt;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;script id=<span class="string">"listTpl"</span> <span class="built_in">type</span>=<span class="string">"text/ng-template"</span>&gt;</div><div class="line">   &lt;ul&gt;</div><div class="line">      &lt;li&gt;</div><div class="line">         &lt;a href=<span class="string">"#!/article/1/我是第一篇文章"</span>&gt;我是第一篇文章&lt;/a&gt;</div><div class="line">         &lt;!-- 1是id，我是第一篇文章是title--&gt;</div><div class="line">      &lt;/li&gt;</div><div class="line">      &lt;li&gt;</div><div class="line">         &lt;a href=<span class="string">"#!/article/2/我是第二篇文章"</span>&gt;我是第二篇文章&lt;/a&gt;</div><div class="line">      &lt;/li&gt;</div><div class="line">      &lt;li&gt;</div><div class="line">         &lt;a href=<span class="string">"#!/article/3/我是第三篇文章"</span>&gt;我是第三篇文章&lt;/a&gt;</div><div class="line">      &lt;/li&gt;</div><div class="line">   &lt;/ul&gt;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;script id=<span class="string">"articleTpl"</span> <span class="built_in">type</span>=<span class="string">"text/ng-template"</span>&gt;</div><div class="line">   &lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt; </div><div class="line">   &lt;!-- msg 控制器里已经设置--&gt;</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line">为什么不能改参数<span class="variable">$scope</span>，以及压缩改参数问题；</div><div class="line">angularjs是根据形参的名字进行传递参数的 如果将形参的名字改了angularjs就不知道你要干什么了；</div><div class="line"></div><div class="line">解决压缩问题：</div><div class="line">angular.module(<span class="string">'myApp'</span>,[ ]) </div><div class="line">   .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="string">'$http'</span>,<span class="string">'$timeout'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$http</span>,<span class="variable">$timeout</span>)&#123;</div><div class="line">      <span class="variable">$scope</span>.msg = <span class="string">"我是msg"</span>;</div><div class="line">   &#125;])，即使压缩也不怕；</div><div class="line"></div><div class="line">作用域问题：</div><div class="line">&lt;body ng-app=<span class="string">"myApp"</span> ng-controller=<span class="string">"demoCtrl"</span>&gt;</div><div class="line">   &#123;&#123; msg &#125;&#125;</div><div class="line">   &lt;div ng-controller=<span class="string">"demoCtrlA"</span>&gt;</div><div class="line">      &#123;&#123; msg &#125;&#125;</div><div class="line">   &lt;/div&gt;</div><div class="line"></div><div class="line">   &lt;div ng-controller=<span class="string">"demoCtrlB"</span>&gt;</div><div class="line">      &#123;&#123; msg &#125;&#125;</div><div class="line">   &lt;/div&gt;</div><div class="line">    angularjs中控制器控制的区域就是一个局部作用域</div><div class="line">         <span class="variable">$scope</span>代表局部作用</div><div class="line">         <span class="variable">$rootScope</span> 代表全局作用域 全局作用域可以挂载一些公共的属性或者方法</div><div class="line">   &lt;script src=<span class="string">"node_modules/angular/angular.js"</span>&gt;&lt;/script&gt;</div><div class="line">   &lt;script&gt;</div><div class="line">      angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">         .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$rootScope</span>)&#123;</div><div class="line"> // <span class="variable">$scope</span>.msg = <span class="string">"我是demoCtrl"</span>;  //这个在全局也是可用的，作用域里的作用域也可用；</div><div class="line">        // var msg = <span class="string">"wo shi ...."</span>;</div><div class="line">            <span class="variable">$rootScope</span>.msg = <span class="string">"我是全局作用域中的msg"</span>; //挂载一些公共的属性// 在他的作用域里都可以用，他的作用域里的作用域也可用</div><div class="line">            <span class="variable">$rootScope</span>.say = <span class="function"><span class="title">function</span></span>()&#123; //挂载一些公共的方法</div><div class="line">               alert(<span class="string">'hello'</span>);</div><div class="line">            &#125;</div><div class="line">         &#125;])</div><div class="line">         .controller(<span class="string">'demoCtrlA'</span>,[<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$rootScope</span>)&#123;</div><div class="line">            // <span class="variable">$scope</span>.msg = <span class="string">"我是demoCtrlA"</span> // 也可自己定义会使用自己的，覆盖了全局的</div><div class="line">            // <span class="variable">$rootScope</span>.say();</div><div class="line">            <span class="variable">$scope</span>.say();</div><div class="line">         &#125;])</div><div class="line">         .controller(<span class="string">'demoCtrlB'</span>,[<span class="string">'$scope'</span>,<span class="string">'$rootScope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>,<span class="variable">$rootScope</span>)&#123;</div><div class="line">            // <span class="variable">$scope</span>.msg = <span class="string">"我是demoCtrlB"</span></div><div class="line">            // <span class="variable">$rootScope</span>.say();</div><div class="line">            <span class="variable">$scope</span>.say();</div><div class="line">         &#125;])</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">循环：ng-repeat=<span class="string">"循环中的每一项 in 数据"</span> 循环数据；在循环中 默认是不允许有重复的值的 如果有需要在数据的后面加 track by <span class="variable">$index</span></div><div class="line">&lt;ul&gt;</div><div class="line">   &lt;li ng-repeat=<span class="string">"item in arr"</span>&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</div><div class="line">   &lt;!-- 遍历数组，item是自定义名字--&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">&lt;ul&gt;</div><div class="line">   &lt;li ng-repeat=<span class="string">"person in persons"</span>&gt;&#123;&#123; person.name &#125;&#125; &#123;&#123;person.age&#125;&#125;&lt;/li&gt;</div><div class="line">   &lt;!-- 遍历数组里的项是对象，person是自定义名字--&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">&lt;p&gt;&#123;&#123; obj.a &#125;&#125; &#123;&#123; obj.b &#125;&#125;&lt;/p&gt;</div><div class="line">   &lt;!--对象可以直接点出来--&gt;</div><div class="line">&lt;div ng-repeat=<span class="string">"item in obj"</span>&gt;&#123;&#123;item&#125;&#125;&lt;/div&gt;</div><div class="line">   &lt;!--这样遍历得到对象的键值--&gt;</div><div class="line">&lt;div ng-repeat=<span class="string">"(key,val) in obj"</span>&gt;&#123;&#123;key&#125;&#125; &#123;&#123;val&#125;&#125;&lt;/div&gt;</div><div class="line">   &lt;!--这样遍历得到对象的键和键值--&gt;</div><div class="line">&lt;ul&gt;</div><div class="line">   &lt;li ng-repeat=<span class="string">"person in persons"</span>&gt;</div><div class="line">      &#123;&#123; person.name &#125;&#125; &#123;&#123; person.age &#125;&#125;</div><div class="line"> //遍历数组里的每一个对象里面对象的键值</div><div class="line">      &lt;span ng-repeat=<span class="string">"items in person.hobby"</span>&gt;&#123;&#123;items&#125;&#125;&lt;/span&gt;</div><div class="line">      &lt;!-- 以及遍历对象里面的数组--&gt;</div><div class="line">   &lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">&lt;script src=<span class="string">"node_modules/angular/angular.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">   angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">      .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>)&#123;</div><div class="line">         <span class="variable">$scope</span>.arr = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]; </div><div class="line">         <span class="variable">$scope</span>.persons = [ </div><div class="line">            &#123; </div><div class="line">               name:<span class="string">'zhangsan'</span>, </div><div class="line">               age:20, </div><div class="line">               hobby:[<span class="string">'敲代码'</span>,<span class="string">'吃'</span>,<span class="string">'睡'</span>] </div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">               name:<span class="string">'lisi'</span>,</div><div class="line">               age:30,</div><div class="line">               hobby:[<span class="string">'篮球'</span>,<span class="string">'足球'</span>,<span class="string">'乒乓球'</span>]</div><div class="line">            &#125; </div><div class="line">         ] </div><div class="line">         <span class="variable">$scope</span>.obj = &#123; </div><div class="line">            a:1,</div><div class="line">            b:2</div><div class="line">         &#125; </div><div class="line">      &#125;]) </div><div class="line">&lt;/script&gt; </div><div class="line"></div><div class="line">&lt;li ng-repeat=<span class="string">"item in arr"</span> class=<span class="string">"&#123;&#123; <span class="variable">$first</span> ? 'first' : '' &#125;&#125; &#123;&#123; <span class="variable">$index</span> == 2 ? 'third' : '' &#125;&#125;"</span>&gt;</div><div class="line">   &#123;&#123; <span class="variable">$index</span> + 1 &#125;&#125; &#123;&#123; item &#125;&#125;    // <span class="variable">$index</span> 是当前循环的索引；当索引等于2时，添加一个类名thrid;</div><div class="line">   &lt;p&gt;是否是第一次循环 &#123;&#123; <span class="variable">$first</span> &#125;&#125;&lt;/p&gt;</div><div class="line">   &lt;p&gt;是否是最后次循环 &#123;&#123; <span class="variable">$last</span> &#125;&#125;&lt;/p&gt;</div><div class="line">   &lt;p&gt;是否是中间项 &#123;&#123; <span class="variable">$middle</span> &#125;&#125;&lt;/p&gt;</div><div class="line">   &lt;p&gt;是否是偶数项 &#123;&#123; <span class="variable">$even</span> &#125;&#125;&lt;/p&gt;</div><div class="line">   &lt;p&gt;是否是奇数项 &#123;&#123; <span class="variable">$odd</span> &#125;&#125;&lt;/p&gt;</div><div class="line"></div><div class="line"></div><div class="line">在循环中 默认是不允许有重复的值的 如果有需要在数据的后面加 track by <span class="variable">$index</span></div><div class="line">&lt;ul&gt;</div><div class="line">   &lt;li ng-repeat=<span class="string">"item in arr track by <span class="variable">$index</span>"</span>&gt;</div><div class="line">      &#123;&#123; item &#125;&#125;</div><div class="line">   &lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line"></div><div class="line">添加类名：</div><div class="line">       ng-class=<span class="string">"&#123;'active':true&#125;"</span>   添加或者删除类名；</div><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"checkbox"</span> ng-model=<span class="string">"isActive"</span>&gt;  //若复选框被选中，则isActive是<span class="literal">true</span>；被取消是<span class="literal">false</span>；ng-model获取表单元素的值</div><div class="line">&#123;&#123; isActive &#125;&#125;//输出看一下结果；</div><div class="line">&lt;div ng-class=<span class="string">"&#123;'active':isActive&#125;"</span>&gt;1111&lt;/div&gt;  //isActive是<span class="literal">true</span>；添加类名；</div><div class="line">&lt;script src=<span class="string">"node_modules/angular/angular.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">   angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">      .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>)&#123;</div><div class="line">         <span class="variable">$scope</span>.isActive = <span class="literal">true</span>; //设置默认的；复选框要选了才有值；</div><div class="line">      &#125;])</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line">数据绑定：</div><div class="line">&lt; &#123;&#123; msg &#125;&#125;</div><div class="line">//这样写页面会闪现出来双括号；用户体验不好；代码执行到这一句还没引入angularjs浏览器当字符处理。</div><div class="line">   ng-bind=<span class="string">"数据"</span> angularjs会解析指令中的数据 解析完成以后会将数据显示在指令所在的元素里面</div><div class="line">   ng-bind-template=<span class="string">"&#123;&#123;msg1&#125;&#125; &#123;&#123;msg2&#125;&#125;"</span>  // 同时显示多个数据</div><div class="line"> &lt;div ng-bind=<span class="string">"msg2"</span>&gt;&lt;/div&gt; //这里解决了出现双括号的问题，数据绑定，</div><div class="line">&lt;div ng-bind-template=<span class="string">"&#123;&#123;msg1&#125;&#125; &#123;&#123;msg2&#125;&#125;"</span>&gt;&lt;/div&gt;  // 同时显示多个数据</div><div class="line">&lt;script src=<span class="string">"node_modules/angular/angular.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">   angular.module(<span class="string">'myApp'</span>,[ ]) </div><div class="line">      .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>)&#123;</div><div class="line">         <span class="variable">$scope</span>.msg1 = <span class="string">"我是msg1"</span>; </div><div class="line">         <span class="variable">$scope</span>.msg2 = <span class="string">"我是msg2"</span>; </div><div class="line">      &#125;])</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">内部及身上的代码不解析：</div><div class="line">    ng-non-bindable 指令所在的元素身上 和 元素内部的angularjs代码 都不会被解析</div><div class="line">&lt;div ng-non-bindable ng-init=<span class="string">"msg='123123'"</span>&gt; &#123;&#123; front web developer &#125;&#125; &#123;&#123;msg&#125;&#125;&lt;/div&gt;</div><div class="line"></div><div class="line">显示隐藏：</div><div class="line">    ng-show=<span class="string">"布尔值"</span> 控制元素显示隐藏</div><div class="line">   ng-hide=<span class="string">"布尔值"</span> 控制元素显示隐藏</div><div class="line">   ng-if=<span class="string">"布尔值"</span> 控制元素显示隐藏 <span class="literal">true</span> 显示 <span class="literal">false</span> 隐藏</div><div class="line">   ng-show ng-hide 是通过样式的方式来达到显示隐藏的目的</div><div class="line">   ng-if 是通过增加删除DOM节点的方式来达到显示隐藏的目的</div><div class="line"> &lt;input <span class="built_in">type</span>=<span class="string">"checkbox"</span> ng-model=<span class="string">"isShow"</span>&gt;  // 复选框，ng-model获取复选框的值；</div><div class="line">&lt;div ng-show=<span class="string">"isShow"</span>&gt;111111111&lt;/div&gt; --&gt;</div><div class="line">   &lt;!--这两个isshow用的是同一个isShow--&gt;</div><div class="line">&lt;button ng-click=<span class="string">"isShow = true"</span> ng-class=<span class="string">"&#123;'active':isShow&#125;"</span>&gt;按钮1&lt;/button&gt;</div><div class="line">&lt;button ng-click=<span class="string">"isShow = false"</span> ng-class=<span class="string">"&#123;'active':!isShow&#125;"</span>&gt;按钮2&lt;/button&gt;</div><div class="line"> &lt;div ng-show=<span class="string">"isShow"</span>&gt;我是按钮1对应的内容&lt;/div&gt;     // ng-show=<span class="string">"布尔值"</span></div><div class="line">&lt;div ng-show=<span class="string">"!isShow"</span>&gt;我是按钮2对应的内容&lt;/div&gt;  //  ng-hide=<span class="string">"布尔值"</span></div><div class="line">&lt;div ng-if=<span class="string">"isShow"</span>&gt;我是按钮1对应的内容&lt;/div&gt; // ng-if 把div节点删除了；</div><div class="line">&lt;div ng-if=<span class="string">"!isShow"</span>&gt;我是按钮2对应的内容&lt;/div&gt;</div><div class="line">&lt;script src=<span class="string">"node_modules/angular/angular.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">   angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">      .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>)&#123;</div><div class="line">         <span class="variable">$scope</span>.isShow = <span class="literal">true</span>;</div><div class="line">      &#125;])</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line">switch:</div><div class="line">   ng-switch ng-switch-when</div><div class="line">&lt;div ng-switch=<span class="string">"num"</span>&gt; </div><div class="line">   &lt;button ng-click=<span class="string">"num = 1"</span>&gt;按钮1&lt;/button&gt; // 设置按钮点击事件，num改变；</div><div class="line">   &lt;button ng-click=<span class="string">"num = 2"</span>&gt;按钮2&lt;/button&gt;</div><div class="line">   &lt;button ng-click=<span class="string">"num = 3"</span>&gt;按钮3&lt;/button&gt;</div><div class="line">   &lt;div ng-switch-when=<span class="string">"1"</span>&gt;按钮1对应的内容&lt;/div&gt;</div><div class="line">   &lt;div ng-switch-when=<span class="string">"2"</span>&gt;按钮2对应的内容&lt;/div&gt;</div><div class="line">   &lt;div ng-switch-when=<span class="string">"3"</span>&gt;按钮3对应的内容&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script src=<span class="string">"node_modules/angular/angular.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">   angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">      .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>)&#123;</div><div class="line">         <span class="variable">$scope</span>.num = 1;  //默认为1；算是设置初始值；</div><div class="line">      &#125;])</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">angular的单击双击事件；</div><div class="line">    原生JS中有哪些事件 angularjs中就有哪些事件指令 只多不少</div><div class="line">   ng-dblclick 双击事件</div><div class="line">   onmouseenter =&gt; ng-mouseenter</div><div class="line">   onclick =&gt; ng-click</div><div class="line">&lt;button ng-click=<span class="string">"clickFn(10,<span class="variable">$event</span>)"</span>&gt;单击事件&lt;/button&gt; //单击事件，后面为单击事件触发的函数，此函数写在控制器里</div><div class="line">&lt;button ng-dblclick=<span class="string">"dblclickFn()"</span>&gt;双击事件&lt;/button&gt;</div><div class="line">&lt;script src=<span class="string">"node_modules/angular/angular.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">   angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">      .controller(<span class="string">'demoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="keyword">function</span>(<span class="variable">$scope</span>)&#123;</div><div class="line">         <span class="variable">$scope</span>.clickFn = <span class="keyword">function</span>(num,e)&#123;</div><div class="line">            console.log(e)  // 设置相应的单击响应函数；</div><div class="line">            // alert(<span class="string">'单击事件发生了'</span>);</div><div class="line">         &#125;</div><div class="line">         <span class="variable">$scope</span>.dblclickFn = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">            alert(<span class="string">'双击事件发生了'</span>) // 设置相应的单击响应函数；</div><div class="line">         &#125;</div><div class="line">      &#125;])</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/hehe/" data-id="cj9cctgrf000078wypbkis7i1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/react/">react的学习</a>
          </li>
        
          <li>
            <a href="/react一/">react学习笔记</a>
          </li>
        
          <li>
            <a href="/d3js/">d3js三</a>
          </li>
        
          <li>
            <a href="/d3/">d3js二</a>
          </li>
        
          <li>
            <a href="/hello-world/">d3js一</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>